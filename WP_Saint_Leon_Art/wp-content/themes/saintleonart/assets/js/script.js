;(function(){'use strict';var pageTitle=document.head.getElementsByTagName('title')[0].innerText;if(pageTitle==='Bienvenue - Saint-Léon\'Art'){var timeToLaunch=function timeToLaunch(){var currentDate=new Date();var diff=(currentDate-targetDate)/1000;var diff=Math.abs(Math.floor(diff));days=Math.floor(diff/(24*60*60));sec=diff-days*24*60*60;hrs=Math.floor(sec/(60*60));sec=sec-hrs*60*60;min=Math.floor(sec/60);sec=sec-min*60;};var countDownTimer=function countDownTimer(){timeToLaunch();$("#days .number").text(days);$("#hours .number").text(hrs);$("#minutes .number").text(min);setTimeout(countDownTimer,1000);};var numberTransition=function numberTransition(id,endPoint,transitionDuration,transitionEase){$({numberCount:$(id).text()}).animate({numberCount:endPoint},{duration:transitionDuration,easing:transitionEase,step:function step(){$(id).text(Math.floor(this.numberCount));},complete:function complete(){$(id).text(this.numberCount);}});};var targetDate=new Date("2018/08/19 18:00:00");var days;var hrs;var min;var sec;$(function(){timeToLaunch();numberTransition('#days .number',days,1000,'easeOutQuad');numberTransition('#hours .number',hrs,1000,'easeOutQuad');numberTransition('#minutes .number',min,1000,'easeOutQuad');setTimeout(countDownTimer,1001);});;}var hamburger=document.querySelector('.hamburger');var search=document.querySelector('.search-icon');hamburger.addEventListener('click',function(e){e.stopPropagation();e.preventDefault();hamburger.classList.toggle('is-active');document.body.classList.toggle('has-sidebar');});search.addEventListener('click',function(e){e.stopPropagation();e.preventDefault();search.classList.toggle('open');search.parentNode.classList.toggle('open');});if(pageTitle===' » Programme - Saint-Léon\'Art'){var fActive=function fActive(e){e.stopPropagation();if(document.querySelector('.program__navigation .day a.active')){document.querySelector('.program__navigation .day a.active').classList.remove('active');document.querySelector('.program .timeline.all#all').classList.remove('here');}e.currentTarget.classList.add('active');};var buttons=document.querySelectorAll('.program__navigation .day a');;Array.from(buttons).forEach(function($btn){$btn.addEventListener("click",fActive);});}if(pageTitle===' » Page contact - Saint-Léon\'Art'){var fCheckForm=function fCheckForm(){var $Form=document.querySelector('form.contact');var $FirstNameField=document.getElementById('first_name');var $LastNameField=document.getElementById('last_name');var $EmailField=document.getElementById('email');var $MsgField=document.getElementById('message');var $SubmitBtn=document.querySelector('.btn.btn--anim');var regexpName=/^[a-zA-Z\u00C0-\u00FF]+['-]?[a-zA-Z\u00C0-\u00FF]+$/;var regexpEmail=/^([a-z0-9_\.-]+)@([\da-z\.-]+)\.([a-z\.]{2,6})$/;var regexpMsg=/^([a-zA-Z]{2,40} + [a-zA-Z]{2,40})$/;var fCheckAField=function fCheckAField(field,regexp){if(field.value==''){field.parentNode.querySelector('span').innerHTML="Votre champs de formulaire est vide.";field.parentNode.querySelector('span').classList.add('on');return false;}else if(regexp&&!regexp.test(field.value)){field.parentNode.querySelector('span').innerHTML="Il semble que la valeur rentré ait un problème.";field.parentNode.querySelector('span').classList.add('on');return false;}else{$SubmitBtn.removeAttribute('disabled');field.parentNode.querySelector('span').classList.remove('on');field.parentNode.querySelector('.input').classList.add('ok');return true;}};var fCheckFirstName=function fCheckFirstName(){return fCheckAField($FirstNameField,regexpName);};var fCheckLastName=function fCheckLastName(){return fCheckAField($LastNameField,regexpName);};var fCheckEmail=function fCheckEmail(){return fCheckAField($EmailField,regexpEmail);};var fCheckMessage=function fCheckMessage(){if($MsgField.value.split(/\s+/).length>=3){$MsgField.parentNode.querySelector('span').classList.remove('on');$MsgField.parentNode.querySelector('.input').classList.add('ok');return true;}if($MsgField.value.split(/\s+/).length===1){$MsgField.parentNode.querySelector('span').innerHTML="Vous n'avez pas écrit de message.";$MsgField.parentNode.querySelector('span').classList.add('on');return false;}if($MsgField.value.split(/\s+/).length<5){$MsgField.parentNode.querySelector('span').innerHTML="Vous avez pas écris un assez grand message.";$MsgField.parentNode.querySelector('span').classList.add('on');return false;}};var fCheckAll=function fCheckAll(){if(fCheckFirstName()*fCheckLastName()*fCheckEmail()*fCheckMessage()){$Form.classList.add('valid');}};$FirstNameField.addEventListener('blur',fCheckFirstName,false);$LastNameField.addEventListener('blur',fCheckLastName,false);$EmailField.addEventListener('blur',fCheckEmail,false);$MsgField.addEventListener('blur',fCheckMessage,false);$SubmitBtn.addEventListener('click',fCheckAll,false);};fCheckForm();}if(pageTitle===' » À propos - Saint-Léon\'Art'){var fCancelAnchor=function fCancelAnchor(e){e.preventDefault();};var bullets=document.querySelectorAll('.bullets_nav');var translateValue;Array.from(bullets).forEach(function($btn){$btn.addEventListener("click",fCancelAnchor);$btn.addEventListener('click',function(){if(window.matchMedia("(max-width: 739px)").matches){var translateValue=$btn.getAttribute('data-translateValue-mobile');}else{var translateValue=$btn.getAttribute('data-translateValue-desktop');}if($btn.parentNode.querySelector('.active')){$btn.parentNode.querySelector('.active').classList.remove('active');}document.querySelector('.slider').style.transform='translateX('+translateValue+')';$btn.classList.add('active');if(document.querySelectorAll('.slider .precNext')){document.querySelectorAll('.slider .precNext')[0].classList.remove('precNext');document.querySelectorAll('.slider .precNext')[0].classList.remove('precNext');}img[$btn.getAttribute('data-prec-img')].classList.toggle('precNext');img[$btn.getAttribute('data-next-img')].classList.toggle('precNext');});});var prevNext=document.querySelectorAll('.prevNext div a');Array.from(prevNext).forEach(function($prevNext){$prevNext.addEventListener("click",fCancelAnchor);$prevNext.addEventListener("click",function(){if(window.matchMedia("(max-width: 739px)").matches){var translateValue=$prevNext.getAttribute('data-translateValue-mobile');}else{var translateValue=$prevNext.getAttribute('data-translateValue-desktop');}document.querySelector('.slider').style.transform='translateX('+translateValue+')';var prevNextParent=$prevNext.parentNode.parentNode;prevNextParent.childNodes[$prevNext.getAttribute('data-next')].style.visibility='visible';prevNextParent.childNodes[$prevNext.getAttribute('data-prec')].style.visibility='hidden';if(document.querySelectorAll('.slider .precNext')){document.querySelectorAll('.slider .precNext')[0].classList.remove('precNext');document.querySelectorAll('.slider .precNext')[0].classList.remove('precNext');}img[$prevNext.getAttribute('data-prec-img')].classList.toggle('precNext');img[$prevNext.getAttribute('data-next-img')].classList.toggle('precNext');var btnA=document.querySelectorAll('.bullets_nav');var btn=document.querySelector('.bullets_nav');if(document.querySelector('.bullets .active')){document.querySelector('.bullets .active').classList.remove('active');}btnA[$prevNext.getAttribute('data-focus')].classList.add('active');});});var img=document.querySelectorAll('.slider div');$('.count').each(function(){$(this).prop('Counter',0).animate({Counter:$(this).text()},{duration:4000,easing:'swing',step:function step(now){$(this).text(Math.ceil(now));}});});}var fAnimInput=function fAnimInput(){var input=document.querySelectorAll('.input');var getFocus=function getFocus(oEvent){oEvent.currentTarget.parentNode.querySelector('label').classList.add("focus");var oInput=oEvent.currentTarget.parentNode.querySelector('.input');setTimeout(function(){oInput.classList.add("border");},200);};var outFocus=function outFocus(e){if(e.currentTarget.parentNode.querySelector('.input').value.length===0){e.currentTarget.parentNode.querySelector('label').classList.remove("focus");}e.currentTarget.classList.remove("border");};Array.from(input).forEach(function($label){$label.addEventListener("focus",getFocus);$label.addEventListener("click",getFocus);$label.addEventListener("blur",outFocus);});};fAnimInput();jQuery(function($){$('#filter').submit(function(){var filter=$('#filter');$.ajax({url:filter.attr('action'),data:filter.serialize(),type:filter.attr('method'),success:function success(data){$('.artist__container').html(data);}});return false;});});})();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdC5qcyJdLCJuYW1lcyI6WyJwYWdlVGl0bGUiLCJkb2N1bWVudCIsImhlYWQiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsImlubmVyVGV4dCIsInRpbWVUb0xhdW5jaCIsImN1cnJlbnREYXRlIiwiRGF0ZSIsImRpZmYiLCJ0YXJnZXREYXRlIiwiTWF0aCIsImFicyIsImZsb29yIiwiZGF5cyIsInNlYyIsImhycyIsIm1pbiIsImNvdW50RG93blRpbWVyIiwiJCIsInRleHQiLCJzZXRUaW1lb3V0IiwibnVtYmVyVHJhbnNpdGlvbiIsImlkIiwiZW5kUG9pbnQiLCJ0cmFuc2l0aW9uRHVyYXRpb24iLCJ0cmFuc2l0aW9uRWFzZSIsIm51bWJlckNvdW50IiwiYW5pbWF0ZSIsImR1cmF0aW9uIiwiZWFzaW5nIiwic3RlcCIsImNvbXBsZXRlIiwiaGFtYnVyZ2VyIiwicXVlcnlTZWxlY3RvciIsInNlYXJjaCIsImFkZEV2ZW50TGlzdGVuZXIiLCJlIiwic3RvcFByb3BhZ2F0aW9uIiwicHJldmVudERlZmF1bHQiLCJjbGFzc0xpc3QiLCJ0b2dnbGUiLCJib2R5IiwicGFyZW50Tm9kZSIsImZBY3RpdmUiLCJyZW1vdmUiLCJjdXJyZW50VGFyZ2V0IiwiYWRkIiwiYnV0dG9ucyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJBcnJheSIsImZyb20iLCJmb3JFYWNoIiwiJGJ0biIsImZDaGVja0Zvcm0iLCIkRm9ybSIsIiRGaXJzdE5hbWVGaWVsZCIsImdldEVsZW1lbnRCeUlkIiwiJExhc3ROYW1lRmllbGQiLCIkRW1haWxGaWVsZCIsIiRNc2dGaWVsZCIsIiRTdWJtaXRCdG4iLCJyZWdleHBOYW1lIiwicmVnZXhwRW1haWwiLCJyZWdleHBNc2ciLCJmQ2hlY2tBRmllbGQiLCJmaWVsZCIsInJlZ2V4cCIsInZhbHVlIiwiaW5uZXJIVE1MIiwidGVzdCIsInJlbW92ZUF0dHJpYnV0ZSIsImZDaGVja0ZpcnN0TmFtZSIsImZDaGVja0xhc3ROYW1lIiwiZkNoZWNrRW1haWwiLCJmQ2hlY2tNZXNzYWdlIiwic3BsaXQiLCJsZW5ndGgiLCJmQ2hlY2tBbGwiLCJmQ2FuY2VsQW5jaG9yIiwiYnVsbGV0cyIsInRyYW5zbGF0ZVZhbHVlIiwid2luZG93IiwibWF0Y2hNZWRpYSIsIm1hdGNoZXMiLCJnZXRBdHRyaWJ1dGUiLCJzdHlsZSIsInRyYW5zZm9ybSIsImltZyIsInByZXZOZXh0IiwiJHByZXZOZXh0IiwicHJldk5leHRQYXJlbnQiLCJjaGlsZE5vZGVzIiwidmlzaWJpbGl0eSIsImJ0bkEiLCJidG4iLCJlYWNoIiwicHJvcCIsIkNvdW50ZXIiLCJub3ciLCJjZWlsIiwiZkFuaW1JbnB1dCIsImlucHV0IiwiZ2V0Rm9jdXMiLCJvRXZlbnQiLCJvSW5wdXQiLCJvdXRGb2N1cyIsIiRsYWJlbCIsImpRdWVyeSIsInN1Ym1pdCIsImZpbHRlciIsImFqYXgiLCJ1cmwiLCJhdHRyIiwiZGF0YSIsInNlcmlhbGl6ZSIsInR5cGUiLCJzdWNjZXNzIiwiaHRtbCJdLCJtYXBwaW5ncyI6IjBCQUNBLEdBQU1BLFdBQVlDLFNBQVNDLElBQVQsQ0FBY0Msb0JBQWQsQ0FBbUMsT0FBbkMsRUFBNEMsQ0FBNUMsRUFBK0NDLFNBQWpFLENBRUEsR0FBSUosWUFBYyw2QkFBbEIsQ0FBaUQsSUErQnBDSyxhQS9Cb0MsQ0ErQjdDLFFBQVNBLGFBQVQsRUFBd0IsQ0FFcEIsR0FBSUMsYUFBYyxHQUFJQyxLQUFKLEVBQWxCLENBR0EsR0FBSUMsTUFBTyxDQUFDRixZQUFjRyxVQUFmLEVBQTZCLElBQXhDLENBQ0EsR0FBSUQsTUFBT0UsS0FBS0MsR0FBTCxDQUFTRCxLQUFLRSxLQUFMLENBQVdKLElBQVgsQ0FBVCxDQUFYLENBR0FLLEtBQU9ILEtBQUtFLEtBQUwsQ0FBV0osTUFBUSxHQUFLLEVBQUwsQ0FBVSxFQUFsQixDQUFYLENBQVAsQ0FDQU0sSUFBTU4sS0FBT0ssS0FBTyxFQUFQLENBQVksRUFBWixDQUFpQixFQUE5QixDQUdBRSxJQUFNTCxLQUFLRSxLQUFMLENBQVdFLEtBQU8sR0FBSyxF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LEVBQXdCbUcsSUFBeEIsQ0FBNkJKLElBQTdCLEVBQ0gsQ0FORSxDQUFQLEVBUUEsTUFBTyxNQUFQLENBQ0gsQ0FYRCxFQVlILENBYkQsRSIsImZpbGUiOiJzY3JpcHQuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcclxuY29uc3QgcGFnZVRpdGxlID0gZG9jdW1lbnQuaGVhZC5nZXRFbGVtZW50c0J5VGFnTmFtZSgndGl0bGUnKVswXS5pbm5lclRleHQ7XHJcblxyXG5pZiAocGFnZVRpdGxlID09PSAnQmllbnZlbnVlIC0gU2FpbnQtTMOpb25cXCdBcnQnICl7XHJcblxyXG4gICAgLy8gQ291bnRkb3duIGhvbWUgcGFnZVxyXG4gICAgLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xyXG4gICAgLy8gVGhlIGRhdGUgeW91IHdhbnQgdG8gY291bnQgZG93biB0b1xyXG4gICAgdmFyIHRhcmdldERhdGUgPSBuZXcgRGF0ZShcIjIwMTgvMDgvMTkgMTg6MDA6MDBcIik7XHJcblxyXG4gICAgLy8gT3RoZXIgZGF0ZSByZWxhdGVkIHZhcmlhYmxlc1xyXG4gICAgdmFyIGRheXM7XHJcbiAgICB2YXIgaHJzO1xyXG4gICAgdmFyIG1pbjtcclxuICAgIHZhciBzZWM7XHJcblxyXG4gICAgLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAgICogT04gRE9DVU1FTlQgTE9BRFxyXG4gICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xyXG4gICAgJChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgLy8gQ2FsY3VsYXRlIHRpbWUgdW50aWwgbGF1bmNoIGRhdGVcclxuICAgICAgICB0aW1lVG9MYXVuY2goKTtcclxuICAgICAgICAvLyBUcmFuc2l0aW9uIHRoZSBjdXJyZW50IGNvdW50ZG93biBmcm9tIDAgXHJcbiAgICAgICAgbnVtYmVyVHJhbnNpdGlvbignI2RheXMgLm51bWJlcicsIGRheXMsIDEwMDAsICdlYXNlT3V0UXVhZCcpO1xyXG4gICAgICAgIG51bWJlclRyYW5zaXRpb24oJyNob3VycyAubnVtYmVyJywgaHJzLCAxMDAwLCAnZWFzZU91dFF1YWQnKTtcclxuICAgICAgICBudW1iZXJUcmFuc2l0aW9uKCcjbWludXRlcyAubnVtYmVyJywgbWluLCAxMDAwLCAnZWFzZU91dFF1YWQnKTtcclxuICAgICAgICAvLyBCZWdpbiBDb3VudGRvd25cclxuICAgICAgICBzZXRUaW1lb3V0KGNvdW50RG93blRpbWVyLCAxMDAxKTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgICAqIEZJR1VSRSBPVVQgVEhFIEFNT1VOVCBPRiBcclxuICAgIFRJTUUgTEVGVCBCRUZPUkUgTEFVTkNIXHJcbiAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXHJcbiAgICBmdW5jdGlvbiB0aW1lVG9MYXVuY2goKSB7XHJcbiAgICAgICAgLy8gR2V0IHRoZSBjdXJyZW50IGRhdGVcclxuICAgICAgICB2YXIgY3VycmVudERhdGUgPSBuZXcgRGF0ZSgpO1xyXG5cclxuICAgICAgICAvLyBGaW5kIHRoZSBkaWZmZXJlbmNlIGJldHdlZW4gZGF0ZXNcclxuICAgICAgICB2YXIgZGlmZiA9IChjdXJyZW50RGF0ZSAtIHRhcmdldERhdGUpIC8gMTAwMDtcclxuICAgICAgICB2YXIgZGlmZiA9IE1hdGguYWJzKE1hdGguZmxvb3IoZGlmZikpO1xyXG5cclxuICAgICAgICAvLyBDaGVjayBudW1iZXIgb2YgZGF5cyB1bnRpbCB0YXJnZXRcclxuICAgICAgICBkYXlzID0gTWF0aC5mbG9vcihkaWZmIC8gKDI0ICogNjAgKiA2MCkpO1xyXG4gICAgICAgIHNlYyA9IGRpZmYgLSBkYXlzICogMjQgKiA2MCAqIDYwO1xyXG5cclxuICAgICAgICAvLyBDaGVjayBudW1iZXIgb2YgaG91cnMgdW50aWwgdGFyZ2V0XHJcbiAgICAgICAgaHJzID0gTWF0aC5mbG9vcihzZWMgLyAoNjAgKiA2MCkpO1xyXG4gICAgICAgIHNlYyA9IHNlYyAtIGhycyAqIDYwICogNjA7XHJcblxyXG4gICAgICAgIC8vIENoZWNrIG51bWJlciBvZiBtaW51dGVzIHVudGlsIHRhcmdldFxyXG4gICAgICAgIG1pbiA9IE1hdGguZmxvb3Ioc2VjIC8gKDYwKSk7XHJcbiAgICAgICAgc2VjID0gc2VjIC0gbWluICogNjA7XHJcbiAgICB9XHJcblxyXG4gICAgLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAgICogRElTUExBWSBUSEUgQ1VSUkVOVCBcclxuICAgIENPVU5UIFRPIExBVU5DSFxyXG4gICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xyXG4gICAgZnVuY3Rpb24gY291bnREb3duVGltZXIoKSB7XHJcblxyXG4gICAgICAgIC8vIEZpZ3VyZSBvdXQgdGhlIHRpbWUgdG8gbGF1bmNoXHJcbiAgICAgICAgdGltZVRvTGF1bmNoKCk7XHJcblxyXG4gICAgICAgIC8vIFdyaXRlIHRvIGNvdW50ZG93biBjb21wb25lbnRcclxuICAgICAgICAkKFwiI2RheXMgLm51bWJlclwiKS50ZXh0KGRheXMpO1xyXG4gICAgICAgICQoXCIjaG91cnMgLm51bWJlclwiKS50ZXh0KGhycyk7XHJcbiAgICAgICAgJChcIiNtaW51dGVzIC5udW1iZXJcIikudGV4dChtaW4pO1xyXG5cclxuICAgICAgICAvLyBSZXBlYXQgdGhlIGNoZWNrIGV2ZXJ5IHNlY29uZFxyXG4gICAgICAgIHNldFRpbWVvdXQoY291bnREb3duVGltZXIsIDEwMDApO1xyXG4gICAgfVxyXG5cclxuICAgIC8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgICAqIFRSQU5TSVRJT04gTlVNQkVSUyBGUk9NIDBcclxuICAgIFRPIENVUlJFTlQgVElNRSBVTlRJTCBMQVVOQ0hcclxuICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cclxuICAgIGZ1bmN0aW9uIG51bWJlclRyYW5zaXRpb24oaWQsIGVuZFBvaW50LCB0cmFuc2l0aW9uRHVyYXRpb24sIHRyYW5zaXRpb25FYXNlKSB7XHJcbiAgICAgICAgLy8gVHJhbnNpdGlvbiBudW1iZXJzIGZyb20gMCB0byB0aGUgZmluYWwgbnVtYmVyXHJcbiAgICAgICAgJCh7IG51bWJlckNvdW50OiAkKGlkKS50ZXh0KCkgfSkuYW5pbWF0ZSh7IG51bWJlckNvdW50OiBlbmRQb2ludCB9LCB7XHJcbiAgICAgICAgICAgIGR1cmF0aW9uOiB0cmFuc2l0aW9uRHVyYXRpb24sXHJcbiAgICAgICAgICAgIGVhc2luZzogdHJhbnNpdGlvbkVhc2UsXHJcbiAgICAgICAgICAgIHN0ZXA6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICQoaWQpLnRleHQoTWF0aC5mbG9vcih0aGlzLm51bWJlckNvdW50KSk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGNvbXBsZXRlOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAkKGlkKS50ZXh0KHRoaXMubnVtYmVyQ291bnQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG59XHJcblxyXG4vKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXHJcbi8vIEhhbWJ1cmdlciBtZW51IGFuZCBzaWRlYmFyXHJcbi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cclxuICAgIGNvbnN0IGhhbWJ1cmdlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oYW1idXJnZXInKTtcclxuICAgIGNvbnN0IHNlYXJjaCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zZWFyY2gtaWNvbicpXHJcblxyXG4gICAgaGFtYnVyZ2VyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oZSkge1xyXG4gICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKClcclxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KClcclxuICAgICAgICBoYW1idXJnZXIuY2xhc3NMaXN0LnRvZ2dsZSgnaXMtYWN0aXZlJylcclxuICAgICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC50b2dnbGUoJ2hhcy1zaWRlYmFyJylcclxuICAgIH0pO1xyXG5cclxuICAgIHNlYXJjaC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpXHJcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpXHJcbiAgICAgICAgc2VhcmNoLmNsYXNzTGlzdC50b2dnbGUoJ29wZW4nKVxyXG4gICAgICAgIHNlYXJjaC5wYXJlbnROb2RlLmNsYXNzTGlzdC50b2dnbGUoJ29wZW4nKTtcclxuICAgIH0pO1xyXG5cclxuaWYgKHBhZ2VUaXRsZSA9PT0gJyDCuyBQcm9ncmFtbWUgLSBTYWludC1Mw6lvblxcJ0FydCcpe1xyXG4gICAgLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xyXG4gICAgLy8gRXZlbnQgbWVudVxyXG4gICAgLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xyXG4gICAgICAgIGNvbnN0IGJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucHJvZ3JhbV9fbmF2aWdhdGlvbiAuZGF5IGEnKTtcclxuXHJcbiAgICAgICAgXHJcbiAgICAgICAgZnVuY3Rpb24gZkFjdGl2ZShlKSB7XHJcbiAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgICAgIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZ3JhbV9fbmF2aWdhdGlvbiAuZGF5IGEuYWN0aXZlJykpIHtcclxuICAgICAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9ncmFtX19uYXZpZ2F0aW9uIC5kYXkgYS5hY3RpdmUnKS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcclxuICAgICAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9ncmFtIC50aW1lbGluZS5hbGwjYWxsJykuY2xhc3NMaXN0LnJlbW92ZSgnaGVyZScpO1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZS5jdXJyZW50VGFyZ2V0LmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgQXJyYXkuZnJvbShidXR0b25zKS5mb3JFYWNoKGZ1bmN0aW9uKCRidG4pIHtcclxuICAgICAgICAgICAgJGJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZkFjdGl2ZSk7XHJcbiAgICAgICAgfSk7XHJcbn1cclxuaWYgKHBhZ2VUaXRsZSA9PT0gJyDCuyBQYWdlIGNvbnRhY3QgLSBTYWludC1Mw6lvblxcJ0FydCcpe1xyXG4gICAgLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xyXG4gICAgLy8gRm9ybSBjb250YWN0IGZlZWRiYWNrIGFuZCBmb2N1c1xyXG4gICAgLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xyXG4gICAgICAgIHZhciBmQ2hlY2tGb3JtID0gZnVuY3Rpb24gZkNoZWNrRm9ybSgpIHtcclxuICAgICAgICAgICAgdmFyICRGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignZm9ybS5jb250YWN0Jyk7XHJcbiAgICAgICAgICAgIHZhciAkRmlyc3ROYW1lRmllbGQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZmlyc3RfbmFtZScpO1xyXG4gICAgICAgICAgICB2YXIgJExhc3ROYW1lRmllbGQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbGFzdF9uYW1lJyk7XHJcbiAgICAgICAgICAgIHZhciAkRW1haWxGaWVsZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlbWFpbCcpO1xyXG4gICAgICAgICAgICB2YXIgJE1zZ0ZpZWxkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21lc3NhZ2UnKTtcclxuICAgICAgICAgICAgdmFyICRTdWJtaXRCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYnRuLmJ0bi0tYW5pbScpO1xyXG4gICAgICAgICAgICB2YXIgcmVnZXhwTmFtZSA9IC9eW2EtekEtWlxcdTAwQzAtXFx1MDBGRl0rWyctXT9bYS16QS1aXFx1MDBDMC1cXHUwMEZGXSskLztcclxuICAgICAgICAgICAgdmFyIHJlZ2V4cEVtYWlsID0gL14oW2EtejAtOV9cXC4tXSspQChbXFxkYS16XFwuLV0rKVxcLihbYS16XFwuXXsyLDZ9KSQvO1xyXG4gICAgICAgICAgICB2YXIgcmVnZXhwTXNnID0gL14oW2EtekEtWl17Miw0MH0gKyBbYS16QS1aXXsyLDQwfSkkLztcclxuICAgICAgICAgICAgdmFyIGZDaGVja0FGaWVsZCA9IGZ1bmN0aW9uIGZDaGVja0FGaWVsZChmaWVsZCwgcmVnZXhwKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZmllbGQudmFsdWUgPT0gJycpIHtcclxuICAgICAgICAgICAgICAgICAgICBmaWVsZC5wYXJlbnROb2RlLnF1ZXJ5U2VsZWN0b3IoJ3NwYW4nKS5pbm5lckhUTUwgPSBcIlZvdHJlIGNoYW1wcyBkZSBmb3JtdWxhaXJlIGVzdCB2aWRlLlwiO1xyXG4gICAgICAgICAgICAgICAgICAgIGZpZWxkLnBhcmVudE5vZGUucXVlcnlTZWxlY3Rvcignc3BhbicpLmNsYXNzTGlzdC5hZGQoJ29uJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChyZWdleHAgJiYgIXJlZ2V4cC50ZXN0KGZpZWxkLnZhbHVlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZpZWxkLnBhcmVudE5vZGUucXVlcnlTZWxlY3Rvcignc3BhbicpLmlubmVySFRNTCA9IFwiSWwgc2VtYmxlIHF1ZSBsYSB2YWxldXIgcmVudHLDqSBhaXQgdW4gcHJvYmzDqG1lLlwiO1xyXG4gICAgICAgICAgICAgICAgICAgIGZpZWxkLnBhcmVudE5vZGUucXVlcnlTZWxlY3Rvcignc3BhbicpLmNsYXNzTGlzdC5hZGQoJ29uJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAkU3VibWl0QnRuLnJlbW92ZUF0dHJpYnV0ZSgnZGlzYWJsZWQnKTtcclxuICAgICAgICAgICAgICAgICAgICBmaWVsZC5wYXJlbnROb2RlLnF1ZXJ5U2VsZWN0b3IoJ3NwYW4nKS5jbGFzc0xpc3QucmVtb3ZlKCdvbicpO1xyXG4gICAgICAgICAgICAgICAgICAgIGZpZWxkLnBhcmVudE5vZGUucXVlcnlTZWxlY3RvcignLmlucHV0JykuY2xhc3NMaXN0LmFkZCgnb2snKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgdmFyIGZDaGVja0ZpcnN0TmFtZSA9IGZ1bmN0aW9uIGZDaGVja0ZpcnN0TmFtZSgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmQ2hlY2tBRmllbGQoJEZpcnN0TmFtZUZpZWxkLCByZWdleHBOYW1lKTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgdmFyIGZDaGVja0xhc3ROYW1lID0gZnVuY3Rpb24gZkNoZWNrTGFzdE5hbWUoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZkNoZWNrQUZpZWxkKCRMYXN0TmFtZUZpZWxkLCByZWdleHBOYW1lKTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgdmFyIGZDaGVja0VtYWlsID0gZnVuY3Rpb24gZkNoZWNrRW1haWwoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZkNoZWNrQUZpZWxkKCRFbWFpbEZpZWxkLCByZWdleHBFbWFpbCk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHZhciBmQ2hlY2tNZXNzYWdlID0gZnVuY3Rpb24gZkNoZWNrTWVzc2FnZSgpIHtcclxuICAgICAgICAgICAgICAgIGlmICgkTXNnRmllbGQudmFsdWUuc3BsaXQoL1xccysvKS5sZW5ndGggPj0gMykge1xyXG4gICAgICAgICAgICAgICAgICAgICRNc2dGaWVsZC5wYXJlbnROb2RlLnF1ZXJ5U2VsZWN0b3IoJ3NwYW4nKS5jbGFzc0xpc3QucmVtb3ZlKCdvbicpO1xyXG4gICAgICAgICAgICAgICAgICAgICRNc2dGaWVsZC5wYXJlbnROb2RlLnF1ZXJ5U2VsZWN0b3IoJy5pbnB1dCcpLmNsYXNzTGlzdC5hZGQoJ29rJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoJE1zZ0ZpZWxkLnZhbHVlLnNwbGl0KC9cXHMrLykubGVuZ3RoID09PSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJE1zZ0ZpZWxkLnBhcmVudE5vZGUucXVlcnlTZWxlY3Rvcignc3BhbicpLmlubmVySFRNTCA9IFwiVm91cyBuJ2F2ZXogcGFzIMOpY3JpdCBkZSBtZXNzYWdlLlwiO1xyXG4gICAgICAgICAgICAgICAgICAgICRNc2dGaWVsZC5wYXJlbnROb2RlLnF1ZXJ5U2VsZWN0b3IoJ3NwYW4nKS5jbGFzc0xpc3QuYWRkKCdvbicpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICgkTXNnRmllbGQudmFsdWUuc3BsaXQoL1xccysvKS5sZW5ndGggPCA1KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJE1zZ0ZpZWxkLnBhcmVudE5vZGUucXVlcnlTZWxlY3Rvcignc3BhbicpLmlubmVySFRNTCA9IFwiVm91cyBhdmV6IHBhcyDDqWNyaXMgdW4gYXNzZXogZ3JhbmQgbWVzc2FnZS5cIjtcclxuICAgICAgICAgICAgICAgICAgICAkTXNnRmllbGQucGFyZW50Tm9kZS5xdWVyeVNlbGVjdG9yKCdzcGFuJykuY2xhc3NMaXN0LmFkZCgnb24nKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHZhciBmQ2hlY2tBbGwgPSBmdW5jdGlvbiBmQ2hlY2tBbGwoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZkNoZWNrRmlyc3ROYW1lKCkgKiBmQ2hlY2tMYXN0TmFtZSgpICogZkNoZWNrRW1haWwoKSAqIGZDaGVja01lc3NhZ2UoKSApIHtcclxuICAgICAgICAgICAgICAgICAgICAkRm9ybS5jbGFzc0xpc3QuYWRkKCd2YWxpZCcpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgJEZpcnN0TmFtZUZpZWxkLmFkZEV2ZW50TGlzdGVuZXIoJ2JsdXInLCBmQ2hlY2tGaXJzdE5hbWUsIGZhbHNlKTtcclxuICAgICAgICAgICAgJExhc3ROYW1lRmllbGQuYWRkRXZlbnRMaXN0ZW5lcignYmx1cicsIGZDaGVja0xhc3ROYW1lLCBmYWxzZSk7XHJcbiAgICAgICAgICAgICRFbWFpbEZpZWxkLmFkZEV2ZW50TGlzdGVuZXIoJ2JsdXInLCBmQ2hlY2tFbWFpbCwgZmFsc2UpO1xyXG4gICAgICAgICAgICAkTXNnRmllbGQuYWRkRXZlbnRMaXN0ZW5lcignYmx1cicsIGZDaGVja01lc3NhZ2UsIGZhbHNlKTtcclxuICAgICAgICAgICAgJFN1Ym1pdEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZDaGVja0FsbCwgZmFsc2UpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgZkNoZWNrRm9ybSgpO1xyXG59XHJcbmlmIChwYWdlVGl0bGUgPT09ICcgwrsgw4AgcHJvcG9zIC0gU2FpbnQtTMOpb25cXCdBcnQnKXtcclxuICAgIC8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cclxuICAgIC8vIEpTIFNsaWRlclxyXG4gICAgLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xyXG4gICAgY29uc3QgZkNhbmNlbEFuY2hvciA9IGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgfVxyXG4gICAgY29uc3QgYnVsbGV0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5idWxsZXRzX25hdicpO1xyXG4gICAgdmFyIHRyYW5zbGF0ZVZhbHVlO1xyXG4gICAgQXJyYXkuZnJvbShidWxsZXRzKS5mb3JFYWNoKGZ1bmN0aW9uICgkYnRuKSB7XHJcbiAgICAgICAgJGJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZkNhbmNlbEFuY2hvcik7XHJcblxyXG5cclxuICAgICAgICAkYnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG5cclxuICAgICAgICAgICAgaWYgKHdpbmRvdy5tYXRjaE1lZGlhKFwiKG1heC13aWR0aDogNzM5cHgpXCIpLm1hdGNoZXMpIHtcclxuICAgICAgICAgICAgICAgIHZhciB0cmFuc2xhdGVWYWx1ZSA9ICRidG4uZ2V0QXR0cmlidXRlKCdkYXRhLXRyYW5zbGF0ZVZhbHVlLW1vYmlsZScpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdmFyIHRyYW5zbGF0ZVZhbHVlID0gJGJ0bi5nZXRBdHRyaWJ1dGUoJ2RhdGEtdHJhbnNsYXRlVmFsdWUtZGVza3RvcCcpO1xyXG5cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gUmVtb3ZlIGNsYXNzIGFjdGl2ZSBmcm9tIHByZWMgZm9jdXNcclxuICAgICAgICAgICAgaWYgKCRidG4ucGFyZW50Tm9kZS5xdWVyeVNlbGVjdG9yKCcuYWN0aXZlJykpIHtcclxuICAgICAgICAgICAgICAgICRidG4ucGFyZW50Tm9kZS5xdWVyeVNlbGVjdG9yKCcuYWN0aXZlJykuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIE1ha2UgdHJhbnNsYXRlWCBhbmltYXRpb24gb2Ygc2xpZGVyXHJcbiAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zbGlkZXInKS5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlWCgke3RyYW5zbGF0ZVZhbHVlfSlgO1xyXG5cclxuICAgICAgICAgICAgLy8gQWRkIGNsYXNzIGFjdGl2ZSBmcm9tIGFjdHVhbCBmb2N1c1xyXG4gICAgICAgICAgICAkYnRuLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xyXG5cclxuICAgICAgICAgICAgLy8gQ2hhbmdlIG9wYWNpdHkgb2YgcHJlYy9uZXh0IGltYWdlXHJcbiAgICAgICAgICAgIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc2xpZGVyIC5wcmVjTmV4dCcpKSB7XHJcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc2xpZGVyIC5wcmVjTmV4dCcpWzBdLmNsYXNzTGlzdC5yZW1vdmUoJ3ByZWNOZXh0Jyk7XHJcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc2xpZGVyIC5wcmVjTmV4dCcpWzBdLmNsYXNzTGlzdC5yZW1vdmUoJ3ByZWNOZXh0Jyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaW1nWyRidG4uZ2V0QXR0cmlidXRlKCdkYXRhLXByZWMtaW1nJyldLmNsYXNzTGlzdC50b2dnbGUoJ3ByZWNOZXh0Jyk7XHJcbiAgICAgICAgICAgIGltZ1skYnRuLmdldEF0dHJpYnV0ZSgnZGF0YS1uZXh0LWltZycpXS5jbGFzc0xpc3QudG9nZ2xlKCdwcmVjTmV4dCcpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgY29uc3QgcHJldk5leHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucHJldk5leHQgZGl2IGEnKTtcclxuXHJcbiAgICBBcnJheS5mcm9tKHByZXZOZXh0KS5mb3JFYWNoKGZ1bmN0aW9uICgkcHJldk5leHQpIHtcclxuICAgICAgICAkcHJldk5leHQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZDYW5jZWxBbmNob3IpO1xyXG5cclxuXHJcbiAgICAgICAgJHByZXZOZXh0LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcblxyXG4gICAgICAgICAgICBpZiAod2luZG93Lm1hdGNoTWVkaWEoXCIobWF4LXdpZHRoOiA3MzlweClcIikubWF0Y2hlcykge1xyXG4gICAgICAgICAgICAgICAgdmFyIHRyYW5zbGF0ZVZhbHVlID0gJHByZXZOZXh0LmdldEF0dHJpYnV0ZSgnZGF0YS10cmFuc2xhdGVWYWx1ZS1tb2JpbGUnKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHZhciB0cmFuc2xhdGVWYWx1ZSA9ICRwcmV2TmV4dC5nZXRBdHRyaWJ1dGUoJ2RhdGEtdHJhbnNsYXRlVmFsdWUtZGVza3RvcCcpO1xyXG5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBNYWtlIHRyYW5zbGF0ZVggYW5pbWF0aW9uIG9mIHNsaWRlclxyXG4gICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2xpZGVyJykuc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZVgoJHt0cmFuc2xhdGVWYWx1ZX0pYDtcclxuXHJcbiAgICAgICAgICAgIC8vIENyZWF0ZSB2YXJpYWJsZSBmb3IgdGhlIHBhcmVudFxyXG4gICAgICAgICAgICBjb25zdCBwcmV2TmV4dFBhcmVudCA9ICRwcmV2TmV4dC5wYXJlbnROb2RlLnBhcmVudE5vZGU7XHJcblxyXG4gICAgICAgICAgICAvLyBBZGQgdmlzaWJsZS9oaWRkZW4gc3R5bGUgZm9yIHRoZSBuZXh0UHJlYyBidXR0b25cclxuICAgICAgICAgICAgcHJldk5leHRQYXJlbnQuY2hpbGROb2Rlc1skcHJldk5leHQuZ2V0QXR0cmlidXRlKCdkYXRhLW5leHQnKV0uc3R5bGUudmlzaWJpbGl0eSA9ICd2aXNpYmxlJztcclxuICAgICAgICAgICAgcHJldk5leHRQYXJlbnQuY2hpbGROb2Rlc1skcHJldk5leHQuZ2V0QXR0cmlidXRlKCdkYXRhLXByZWMnKV0uc3R5bGUudmlzaWJpbGl0eSA9ICdoaWRkZW4nO1xyXG5cclxuICAgICAgICAgICAgLy8gQ2hhbmdlIG9wYWNpdHkgb2YgcHJlYy9uZXh0IGltYWdlXHJcbiAgICAgICAgICAgIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc2xpZGVyIC5wcmVjTmV4dCcpKSB7XHJcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc2xpZGVyIC5wcmVjTmV4dCcpWzBdLmNsYXNzTGlzdC5yZW1vdmUoJ3ByZWNOZXh0Jyk7XHJcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc2xpZGVyIC5wcmVjTmV4dCcpWzBdLmNsYXNzTGlzdC5yZW1vdmUoJ3ByZWNOZXh0Jyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaW1nWyRwcmV2TmV4dC5nZXRBdHRyaWJ1dGUoJ2RhdGEtcHJlYy1pbWcnKV0uY2xhc3NMaXN0LnRvZ2dsZSgncHJlY05leHQnKTtcclxuICAgICAgICAgICAgaW1nWyRwcmV2TmV4dC5nZXRBdHRyaWJ1dGUoJ2RhdGEtbmV4dC1pbWcnKV0uY2xhc3NMaXN0LnRvZ2dsZSgncHJlY05leHQnKTtcclxuXHJcbiAgICAgICAgICAgIC8vIFJlbW92ZSBjbGFzcyBhY3RpdmUgZnJvbSBidWxsZXRzIHByZWMgZm9jdXNcclxuICAgICAgICAgICAgY29uc3QgYnRuQSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5idWxsZXRzX25hdicpO1xyXG4gICAgICAgICAgICBjb25zdCBidG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYnVsbGV0c19uYXYnKTtcclxuICAgICAgICAgICAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5idWxsZXRzIC5hY3RpdmUnKSkge1xyXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmJ1bGxldHMgLmFjdGl2ZScpLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBBZGQgY2xhc3MgYWN0aXZlIGZyb20gYWN0dWFsIGZvY3VzXHJcbiAgICAgICAgICAgIGJ0bkFbJHByZXZOZXh0LmdldEF0dHJpYnV0ZSgnZGF0YS1mb2N1cycpXS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG5cclxuICAgIGNvbnN0IGltZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zbGlkZXIgZGl2Jyk7XHJcblxyXG4gICAgJCgnLmNvdW50JykuZWFjaChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgJCh0aGlzKS5wcm9wKCdDb3VudGVyJywgMCkuYW5pbWF0ZSh7XHJcbiAgICAgICAgICAgIENvdW50ZXI6ICQodGhpcykudGV4dCgpXHJcbiAgICAgICAgfSwge1xyXG4gICAgICAgICAgICAgICAgZHVyYXRpb246IDQwMDAsXHJcbiAgICAgICAgICAgICAgICBlYXNpbmc6ICdzd2luZycsXHJcbiAgICAgICAgICAgICAgICBzdGVwOiBmdW5jdGlvbiAobm93KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS50ZXh0KE1hdGguY2VpbChub3cpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICB9KTtcclxufVxyXG4vKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXHJcbi8vIElucHV0IEFuaW1cclxuLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xyXG4gICAgdmFyIGZBbmltSW5wdXQgPSBmdW5jdGlvbiBmQW5pbUlucHV0KCkge1xyXG4gICAgICAgIHZhciBpbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5pbnB1dCcpO1xyXG5cclxuICAgICAgICB2YXIgZ2V0Rm9jdXMgPSBmdW5jdGlvbiBnZXRGb2N1cyhvRXZlbnQpIHtcclxuICAgICAgICAgICAgb0V2ZW50LmN1cnJlbnRUYXJnZXQucGFyZW50Tm9kZS5xdWVyeVNlbGVjdG9yKCdsYWJlbCcpLmNsYXNzTGlzdC5hZGQoXCJmb2N1c1wiKTtcclxuICAgICAgICAgICAgdmFyIG9JbnB1dCA9ICBvRXZlbnQuY3VycmVudFRhcmdldC5wYXJlbnROb2RlLnF1ZXJ5U2VsZWN0b3IoJy5pbnB1dCcpO1xyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICBvSW5wdXQuY2xhc3NMaXN0LmFkZChcImJvcmRlclwiKTtcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgfSwyMDApO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB2YXIgb3V0Rm9jdXMgPSBmdW5jdGlvbiBvdXRGb2N1cyhlKSB7XHJcbiAgICAgICAgICAgIGlmIChlLmN1cnJlbnRUYXJnZXQucGFyZW50Tm9kZS5xdWVyeVNlbGVjdG9yKCcuaW5wdXQnKS52YWx1ZS5sZW5ndGggPT09IDAgKSB7XHJcbiAgICAgICAgICAgICAgICBlLmN1cnJlbnRUYXJnZXQucGFyZW50Tm9kZS5xdWVyeVNlbGVjdG9yKCdsYWJlbCcpLmNsYXNzTGlzdC5yZW1vdmUoXCJmb2N1c1wiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlLmN1cnJlbnRUYXJnZXQuY2xhc3NMaXN0LnJlbW92ZShcImJvcmRlclwiKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgfTtcclxuICAgICAgICBBcnJheS5mcm9tKGlucHV0KS5mb3JFYWNoKGZ1bmN0aW9uKCRsYWJlbCkge1xyXG4gICAgICAgICAgICAkbGFiZWwuYWRkRXZlbnRMaXN0ZW5lcihcImZvY3VzXCIsIGdldEZvY3VzKTtcclxuICAgICAgICAgICAgJGxhYmVsLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBnZXRGb2N1cyk7XHJcbiAgICAgICAgICAgICRsYWJlbC5hZGRFdmVudExpc3RlbmVyKFwiYmx1clwiLCBvdXRGb2N1cyk7XHJcblxyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIGZBbmltSW5wdXQoKTtcclxuXHJcbi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cclxuLy8gVGF4b25vbXkgRmlsdGVyIGFuZCBwYWdpbmF0aW9uXHJcbi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cclxualF1ZXJ5KGZ1bmN0aW9uICgkKSB7XHJcbiAgICAkKCcjZmlsdGVyJykuc3VibWl0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgZmlsdGVyID0gJCgnI2ZpbHRlcicpO1xyXG4gICAgICAgICQuYWpheCh7XHJcbiAgICAgICAgICAgIHVybDogZmlsdGVyLmF0dHIoJ2FjdGlvbicpLFxyXG4gICAgICAgICAgICBkYXRhOiBmaWx0ZXIuc2VyaWFsaXplKCksIC8vIGZvcm0gZGF0YVxyXG4gICAgICAgICAgICB0eXBlOiBmaWx0ZXIuYXR0cignbWV0aG9kJyksIC8vIFBPU1RcclxuICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICQoJy5hcnRpc3RfX2NvbnRhaW5lcicpLmh0bWwoZGF0YSk7IC8vIGluc2VydCBkYXRhXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9KTtcclxufSk7Il19
