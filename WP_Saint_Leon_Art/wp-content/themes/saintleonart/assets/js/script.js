;(function(){'use strict';var targetDate=new Date("2018/08/19 18:00:00");var days;var hrs;var min;var sec;$(function(){timeToLaunch();numberTransition('#days .number',days,1000,'easeOutQuad');numberTransition('#hours .number',hrs,1000,'easeOutQuad');numberTransition('#minutes .number',min,1000,'easeOutQuad');setTimeout(countDownTimer,1001);});function timeToLaunch(){var currentDate=new Date();var diff=(currentDate-targetDate)/1000;var diff=Math.abs(Math.floor(diff));days=Math.floor(diff/(24*60*60));sec=diff-days*24*60*60;hrs=Math.floor(sec/(60*60));sec=sec-hrs*60*60;min=Math.floor(sec/60);sec=sec-min*60;}function countDownTimer(){timeToLaunch();$("#days .number").text(days);$("#hours .number").text(hrs);$("#minutes .number").text(min);setTimeout(countDownTimer,1000);}function numberTransition(id,endPoint,transitionDuration,transitionEase){$({numberCount:$(id).text()}).animate({numberCount:endPoint},{duration:transitionDuration,easing:transitionEase,step:function step(){$(id).text(Math.floor(this.numberCount));},complete:function complete(){$(id).text(this.numberCount);}});};var myCenter=new google.maps.LatLng(12.2667,-2.06667);function initialize(){var mapProp={center:myCenter,zoom:7,mapTypeId:google.maps.MapTypeId.ROADMAP};var map=new google.maps.Map(document.getElementById("map"),mapProp);var marker=new google.maps.Marker({position:myCenter});marker.setMap(map);}google.maps.event.addDomListener(window,'load',initialize);var hamburger=document.querySelector('.hamburger');var search=document.querySelector('.search-icon');hamburger.addEventListener('click',function(e){e.stopPropagation();e.preventDefault();hamburger.classList.toggle('is-active');document.body.classList.toggle('has-sidebar');});search.addEventListener('click',function(e){e.stopPropagation();e.preventDefault();search.classList.toggle('open');});var buttons=document.querySelectorAll('.program__navigation a');Array.from(buttons).forEach(function($btn){$btn.addEventListener("click",fActive);});function fActive(e){e.stopPropagation();if(document.querySelector('.active')){document.querySelector('.active').classList.remove('active');}e.currentTarget.classList.add('active');};var fCheckForm=function fCheckForm(){var $Form=document.querySelector('form.contact');var $FirstNameField=document.getElementById('first_name');var $LastNameField=document.getElementById('last_name');var $EmailField=document.getElementById('email');var $MsgField=document.getElementById('message');var $SubmitBtn=document.getElementById('submit');var regexpName=/^[a-zA-Z\u00C0-\u00FF]+['-]?[a-zA-Z\u00C0-\u00FF]+$/;var regexpEmail=/^([a-z0-9_\.-]+)@([\da-z\.-]+)\.([a-z\.]{2,6})$/;var regexpMsg=/^([a-zA-Z]{2,40} + [a-zA-Z]{2,40})$/;var fCheckAField=function fCheckAField(field,regexp){if(field.value==''){field.parentNode.querySelector('span').innerHTML="Votre champs de formulaire est vide.";field.parentNode.querySelector('span').classList.add('on');return false;}else if(regexp&&!regexp.test(field.value)){field.parentNode.querySelector('span').innerHTML="Il semble que la valeur rentré ait un problème.";field.parentNode.querySelector('span').classList.add('on');return false;}else{$SubmitBtn.removeAttribute('disabled');field.parentNode.querySelector('span').classList.remove('on');field.parentNode.querySelector('.input').classList.add('ok');return true;}};var fCheckFirstName=function fCheckFirstName(){return fCheckAField($FirstNameField,regexpName);};var fCheckLastName=function fCheckLastName(){return fCheckAField($LastNameField,regexpName);};var fCheckEmail=function fCheckEmail(){return fCheckAField($EmailField,regexpEmail);};var fCheckMessage=function fCheckMessage(){if($MsgField.value.split(/\s+/).length>=3){$MsgField.parentNode.querySelector('span').classList.remove('on');$MsgField.parentNode.querySelector('.input').classList.add('ok');return true;}if($MsgField.value.split(/\s+/).length===1){$MsgField.parentNode.querySelector('span').innerHTML="Vous n'avez pas écrit de message.";$MsgField.parentNode.querySelector('span').classList.add('on');return false;}if($MsgField.value.split(/\s+/).length<5){$MsgField.parentNode.querySelector('span').innerHTML="Vous avez pas écris un assez grand message.";$MsgField.parentNode.querySelector('span').classList.add('on');return false;}};var fCheckAll=function fCheckAll(){if(fCheckFirstName()*fCheckLastName()*fCheckEmail()*fCheckMessage()){$Form.classList.add('valid');}};$FirstNameField.addEventListener('blur',fCheckFirstName,false);$LastNameField.addEventListener('blur',fCheckLastName,false);$EmailField.addEventListener('blur',fCheckEmail,false);$MsgField.addEventListener('blur',fCheckMessage,false);$SubmitBtn.addEventListener('click',fCheckAll,false);var input=document.querySelectorAll('fieldset .input');var getFocus=function getFocus(oEvent){oEvent.currentTarget.parentNode.querySelector('label').classList.add("focus");};var outFocus=function outFocus(e){if(e.currentTarget.parentNode.querySelector('.input').value.length===0||e.currentTarget.parentNode.querySelector('.input option').value.length===0){e.currentTarget.parentNode.querySelector('label').classList.remove("focus");}};Array.from(input).forEach(function($label){$label.addEventListener("focus",getFocus);$label.addEventListener("click",getFocus);$label.addEventListener("blur",outFocus);});};fCheckForm();var fCancelAnchor=function fCancelAnchor(e){if(window.location.hash){setTimeout(function(){window.scrollTo(window.pageXOffset,window.pageYOffset);},1);}console.log(window.pageXOffset,window.pageYOffset);};var bullets=document.querySelectorAll('.bullets_nav');var fPageIsLoaded=function fPageIsLoaded(){Array.from(bullets).forEach(function($btn){$btn.addEventListener("click",fCancelAnchor);});};window.addEventListener("load",fPageIsLoaded);})();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdC5qcyJdLCJuYW1lcyI6WyJ0YXJnZXREYXRlIiwiRGF0ZSIsImRheXMiLCJocnMiLCJtaW4iLCJzZWMiLCIkIiwidGltZVRvTGF1bmNoIiwibnVtYmVyVHJhbnNpdGlvbiIsInNldFRpbWVvdXQiLCJjb3VudERvd25UaW1lciIsImN1cnJlbnREYXRlIiwiZGlmZiIsIk1hdGgiLCJhYnMiLCJmbG9vciIsInRleHQiLCJpZCIsImVuZFBvaW50IiwidHJhbnNpdGlvbkR1cmF0aW9uIiwidHJhbnNpdGlvbkVhc2UiLCJudW1iZXJDb3VudCIsImFuaW1hdGUiLCJkdXJhdGlvbiIsImVhc2luZyIsInN0ZXAiLCJjb21wbGV0ZSIsIm15Q2VudGVyIiwiZ29vZ2xlIiwibWFwcyIsIkxhdExuZyIsImluaXRpYWxpemUiLCJtYXBQcm9wIiwiY2VudGVyIiwiem9vbSIsIm1hcFR5cGVJZCIsIk1hcFR5cGVJZCIsIlJPQURNQVAiLCJtYXAiLCJNYXAiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwibWFya2VyIiwiTWFya2VyIiwicG9zaXRpb24iLCJzZXRNYXAiLCJldmVudCIsImFkZERvbUxpc3RlbmVyIiwid2luZG93IiwiaGFtYnVyZ2VyIiwicXVlcnlTZWxlY3RvciIsInNlYXJjaCIsImFkZEV2ZW50TGlzdGVuZXIiLCJlIiwic3RvcFByb3BhZ2F0aW9uIiwicHJldmVudERlZmF1bHQiLCJjbGFzc0xpc3QiLCJ0b2dnbGUiLCJib2R5IiwiYnV0dG9ucyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJBcnJheSIsImZyb20iLCJmb3JFYWNoIiwiJGJ0biIsImZBY3RpdmUiLCJyZW1vdmUiLCJjdXJyZW50VGFyZ2V0IiwiYWRkIiwiZkNoZWNrRm9ybSIsIiRGb3JtIiwiJEZpcnN0TmFtZUZpZWxkIiwiJExhc3ROYW1lRmllbGQiLCIkRW1haWxGaWVsZCIsIiRNc2dGaWVsZCIsIiRTdWJtaXRCdG4iLCJyZWdleHBOYW1lIiwicmVnZXhwRW1haWwiLCJyZWdleHBNc2ciLCJmQ2hlY2tBRmllbGQiLCJmaWVsZCIsInJlZ2V4cCIsInZhbHVlIiwicGFyZW50Tm9kZSIsImlubmVySFRNTCIsInRlc3QiLCJyZW1vdmVBdHRyaWJ1dGUiLCJmQ2hlY2tGaXJzdE5hbWUiLCJmQ2hlY2tMYXN0TmFtZSIsImZDaGVja0VtYWlsIiwiZkNoZWNrTWVzc2FnZSIsInNwbGl0IiwibGVuZ3RoIiwiZkNoZWNrQWxsIiwiaW5wdXQiLCJnZXRGb2N1cyIsIm9FdmVudCIsIm91dEZvY3VzIiwiJGxhYmVsIiwiZkNhbmNlbEFuY2hvciIsImxvY2F0aW9uIiwiaGFzaCIsInNjcm9sbFRvIiwicGFnZVhPZmZzZXQiLCJwYWdlWU9mZnNldCIsImNvbnNvbGUiLCJsb2ciLCJidWxsZXRzIiwiZlBhZ2VJc0xvYWRlZCJdLCJtYXBwaW5ncyI6IjBCQUdJLEdBQUlBLFlBQWEsR0FBSUMsS0FBSixDQUFTLHFCQUFULENBQWpCLENBR0EsR0FBSUMsS0FBSixDQUNBLEdBQUlDLElBQUosQ0FDQSxHQUFJQyxJQUFKLENBQ0EsR0FBSUMsSUFBSixDQUtBQyxFQUFFLFVBQVcsQ0FFVEMsZUFFQUMsaUJBQWlCLGVBQWpCLENBQWtDTixJQUFsQyxDQUF3QyxJQUF4QyxDQUE4QyxhQUE5QyxFQUNBTSxpQkFBaUIsZ0JBQWpCLENBQW1DTCxHQUFuQyxDQUF3QyxJQUF4QyxDQUE4QyxhQUE5QyxFQUNBSyxpQkFBaUIsa0JBQWpCLENBQXFDSixHQUFyQyxDQUEwQyxJQUExQyxDQUFnRCxhQUFoRCxFQUVBSyxXQUFXQyxjQUFYLENBQTBCLElBQTFCLEVBQ0gsQ0FURCxFQWVBLFFBQVNILGFBQVQsRUFBdUIsQ0FFbkIsR0FBSUksYUFBYyxHQUFJVixLQUFKLEVBQWxCLENBR0EsR0FBSVcsTUFBTyxDQUFDRCxZQUFjWCxVQUFmLEVBQTJCLElBQXRDLENBQ0EsR0FBSVksTUFBT0MsS0FBS0MsR0FBTCxDQUFTRCxLQUFLRSxLQUFMLENBQVdILElBQVgsQ0FBVCxDQUFYLENBR0FWLEtBQU9XLEtBQUtFLEtBQUwsQ0FBV0gs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TixDQUFXZ0MsS0FBWCxFQUFrQi9CLE9BQWxCLENBQTBCLFNBQVNtQyxNQUFULENBQWlCLENBQ3ZDQSxPQUFPOUMsZ0JBQVAsQ0FBd0IsT0FBeEIsQ0FBaUMyQyxRQUFqQyxFQUNBRyxPQUFPOUMsZ0JBQVAsQ0FBd0IsT0FBeEIsQ0FBaUMyQyxRQUFqQyxFQUNBRyxPQUFPOUMsZ0JBQVAsQ0FBd0IsTUFBeEIsQ0FBZ0M2QyxRQUFoQyxFQUNILENBSkQsRUFLSCxDQTlFRCxDQStFQTVCLGFBSUEsR0FBTThCLGVBQWdCLFFBQWhCQSxjQUFnQixDQUFTOUMsQ0FBVCxDQUFXLENBQzdCLEdBQUlMLE9BQU9vRCxRQUFQLENBQWdCQyxJQUFwQixDQUEwQixDQUMxQjVGLFdBQVcsVUFBVyxDQUNsQnVDLE9BQU9zRCxRQUFQLENBQWdCdEQsT0FBT3VELFdBQXZCLENBQW9DdkQsT0FBT3dELFdBQTNDLEVBQ0gsQ0FGRCxDQUVHLENBRkgsRUFHSCxDQUNHQyxRQUFRQyxHQUFSLENBQVkxRCxPQUFPdUQsV0FBbkIsQ0FBZ0N2RCxPQUFPd0QsV0FBdkMsRUFDSCxDQVBELENBU0EsR0FBTUcsU0FBVW5FLFNBQVNvQixnQkFBVCxDQUEwQixjQUExQixDQUFoQixDQUdBLEdBQU1nRCxlQUFnQixRQUFoQkEsY0FBZ0IsRUFBVyxDQUM3Qi9DLE1BQU1DLElBQU4sQ0FBVzZDLE9BQVgsRUFBb0I1QyxPQUFwQixDQUE0QixTQUFTQyxJQUFULENBQWUsQ0FDdkNBLEtBQUtaLGdCQUFMLENBQXNCLE9BQXRCLENBQStCK0MsYUFBL0IsRUFDSCxDQUZELEVBR0gsQ0FKRCxDQU1BbkQsT0FBT0ksZ0JBQVAsQ0FBd0IsTUFBeEIsQ0FBZ0N3RCxhQUFoQyxFIiwiZmlsZSI6InNjcmlwdC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIENvdW50ZG93biBob21lIHBhZ2VcclxuICAgIC8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cclxuICAgIC8vIFRoZSBkYXRlIHlvdSB3YW50IHRvIGNvdW50IGRvd24gdG9cclxuICAgIHZhciB0YXJnZXREYXRlID0gbmV3IERhdGUoXCIyMDE4LzA4LzE5IDE4OjAwOjAwXCIpOyAgIFxyXG5cclxuICAgIC8vIE90aGVyIGRhdGUgcmVsYXRlZCB2YXJpYWJsZXNcclxuICAgIHZhciBkYXlzO1xyXG4gICAgdmFyIGhycztcclxuICAgIHZhciBtaW47XHJcbiAgICB2YXIgc2VjO1xyXG5cclxuICAgIC8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgICAqIE9OIERPQ1VNRU5UIExPQURcclxuICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cclxuICAgICQoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgLy8gQ2FsY3VsYXRlIHRpbWUgdW50aWwgbGF1bmNoIGRhdGVcclxuICAgICAgICB0aW1lVG9MYXVuY2goKTtcclxuICAgICAgICAvLyBUcmFuc2l0aW9uIHRoZSBjdXJyZW50IGNvdW50ZG93biBmcm9tIDAgXHJcbiAgICAgICAgbnVtYmVyVHJhbnNpdGlvbignI2RheXMgLm51bWJlcicsIGRheXMsIDEwMDAsICdlYXNlT3V0UXVhZCcpO1xyXG4gICAgICAgIG51bWJlclRyYW5zaXRpb24oJyNob3VycyAubnVtYmVyJywgaHJzLCAxMDAwLCAnZWFzZU91dFF1YWQnKTtcclxuICAgICAgICBudW1iZXJUcmFuc2l0aW9uKCcjbWludXRlcyAubnVtYmVyJywgbWluLCAxMDAwLCAnZWFzZU91dFF1YWQnKTtcclxuICAgICAgICAvLyBCZWdpbiBDb3VudGRvd25cclxuICAgICAgICBzZXRUaW1lb3V0KGNvdW50RG93blRpbWVyLDEwMDEpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAgICogRklHVVJFIE9VVCBUSEUgQU1PVU5UIE9GIFxyXG4gICAgVElNRSBMRUZUIEJFRk9SRSBMQVVOQ0hcclxuICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cclxuICAgIGZ1bmN0aW9uIHRpbWVUb0xhdW5jaCgpe1xyXG4gICAgICAgIC8vIEdldCB0aGUgY3VycmVudCBkYXRlXHJcbiAgICAgICAgdmFyIGN1cnJlbnREYXRlID0gbmV3IERhdGUoKTtcclxuXHJcbiAgICAgICAgLy8gRmluZCB0aGUgZGlmZmVyZW5jZSBiZXR3ZWVuIGRhdGVzXHJcbiAgICAgICAgdmFyIGRpZmYgPSAoY3VycmVudERhdGUgLSB0YXJnZXREYXRlKS8xMDAwO1xyXG4gICAgICAgIHZhciBkaWZmID0gTWF0aC5hYnMoTWF0aC5mbG9vcihkaWZmKSk7ICBcclxuXHJcbiAgICAgICAgLy8gQ2hlY2sgbnVtYmVyIG9mIGRheXMgdW50aWwgdGFyZ2V0XHJcbiAgICAgICAgZGF5cyA9IE1hdGguZmxvb3IoZGlmZi8oMjQqNjAqNjApKTtcclxuICAgICAgICBzZWMgPSBkaWZmIC0gZGF5cyAqIDI0KjYwKjYwO1xyXG5cclxuICAgICAgICAvLyBDaGVjayBudW1iZXIgb2YgaG91cnMgdW50aWwgdGFyZ2V0XHJcbiAgICAgICAgaHJzID0gTWF0aC5mbG9vcihzZWMvKDYwKjYwKSk7XHJcbiAgICAgICAgc2VjID0gc2VjIC0gaHJzICogNjAqNjA7XHJcblxyXG4gICAgICAgIC8vIENoZWNrIG51bWJlciBvZiBtaW51dGVzIHVudGlsIHRhcmdldFxyXG4gICAgICAgIG1pbiA9IE1hdGguZmxvb3Ioc2VjLyg2MCkpO1xyXG4gICAgICAgIHNlYyA9IHNlYyAtIG1pbiAqIDYwO1xyXG4gICAgfVxyXG5cclxuICAgIC8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgICAqIERJU1BMQVkgVEhFIENVUlJFTlQgXHJcbiAgICBDT1VOVCBUTyBMQVVOQ0hcclxuICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cclxuICAgIGZ1bmN0aW9uIGNvdW50RG93blRpbWVyKCl7IFxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIEZpZ3VyZSBvdXQgdGhlIHRpbWUgdG8gbGF1bmNoXHJcbiAgICAgICAgdGltZVRvTGF1bmNoKCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gV3JpdGUgdG8gY291bnRkb3duIGNvbXBvbmVudFxyXG4gICAgICAgICQoIFwiI2RheXMgLm51bWJlclwiICkudGV4dChkYXlzKTtcclxuICAgICAgICAkKCBcIiNob3VycyAubnVtYmVyXCIgKS50ZXh0KGhycyk7XHJcbiAgICAgICAgJCggXCIjbWludXRlcyAubnVtYmVyXCIgKS50ZXh0KG1pbik7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gUmVwZWF0IHRoZSBjaGVjayBldmVyeSBzZWNvbmRcclxuICAgICAgICBzZXRUaW1lb3V0KGNvdW50RG93blRpbWVyLDEwMDApO1xyXG4gICAgfVxyXG5cclxuICAgIC8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgICAqIFRSQU5TSVRJT04gTlVNQkVSUyBGUk9NIDBcclxuICAgIFRPIENVUlJFTlQgVElNRSBVTlRJTCBMQVVOQ0hcclxuICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cclxuICAgIGZ1bmN0aW9uIG51bWJlclRyYW5zaXRpb24oaWQsIGVuZFBvaW50LCB0cmFuc2l0aW9uRHVyYXRpb24sIHRyYW5zaXRpb25FYXNlKXtcclxuICAgICAgICAvLyBUcmFuc2l0aW9uIG51bWJlcnMgZnJvbSAwIHRvIHRoZSBmaW5hbCBudW1iZXJcclxuICAgICAgICAkKHtudW1iZXJDb3VudDogJChpZCkudGV4dCgpfSkuYW5pbWF0ZSh7bnVtYmVyQ291bnQ6IGVuZFBvaW50fSwge1xyXG4gICAgICAgICAgICBkdXJhdGlvbjogdHJhbnNpdGlvbkR1cmF0aW9uLFxyXG4gICAgICAgICAgICBlYXNpbmc6dHJhbnNpdGlvbkVhc2UsXHJcbiAgICAgICAgICAgIHN0ZXA6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgJChpZCkudGV4dChNYXRoLmZsb29yKHRoaXMubnVtYmVyQ291bnQpKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgY29tcGxldGU6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgJChpZCkudGV4dCh0aGlzLm51bWJlckNvdW50KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pOyBcclxuICAgIH07XHJcbi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cclxuLy8gR29vZ2xlIG1hcCBpbmRpdmlkdWFsXHJcbi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cclxuICAgIHZhciBteUNlbnRlciA9IG5ldyBnb29nbGUubWFwcy5MYXRMbmcoMTIuMjY2NywgLTIuMDY2NjcpO1xyXG4gICAgZnVuY3Rpb24gaW5pdGlhbGl6ZSgpIHtcclxuICAgICAgICB2YXIgbWFwUHJvcCA9IHtcclxuICAgICAgICAgICAgY2VudGVyOiBteUNlbnRlcixcclxuICAgICAgICAgICAgem9vbTogNyxcclxuICAgICAgICAgICAgbWFwVHlwZUlkOiBnb29nbGUubWFwcy5NYXBUeXBlSWQuUk9BRE1BUFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgdmFyIG1hcCA9IG5ldyBnb29nbGUubWFwcy5NYXAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtYXBcIiksIG1hcFByb3ApO1xyXG4gICAgICAgIHZhciBtYXJrZXIgPSBuZXcgZ29vZ2xlLm1hcHMuTWFya2VyKHtcclxuICAgICAgICAgICAgcG9zaXRpb246IG15Q2VudGVyLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIG1hcmtlci5zZXRNYXAobWFwKTtcclxuICAgIH1cclxuICAgIGdvb2dsZS5tYXBzLmV2ZW50LmFkZERvbUxpc3RlbmVyKHdpbmRvdywgJ2xvYWQnLCBpbml0aWFsaXplKTtcclxuLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xyXG4vLyBIYW1idXJnZXIgbWVudSBhbmQgc2lkZWJhclxyXG4vKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXHJcbiAgICBjb25zdCBoYW1idXJnZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaGFtYnVyZ2VyJyk7XHJcbiAgICBjb25zdCBzZWFyY2ggPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2VhcmNoLWljb24nKVxyXG5cclxuICAgIGhhbWJ1cmdlci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpXHJcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpXHJcbiAgICAgICAgaGFtYnVyZ2VyLmNsYXNzTGlzdC50b2dnbGUoJ2lzLWFjdGl2ZScpXHJcbiAgICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QudG9nZ2xlKCdoYXMtc2lkZWJhcicpXHJcbiAgICB9KTtcclxuXHJcbiAgICBzZWFyY2guYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKVxyXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKVxyXG4gICAgICAgIHNlYXJjaC5jbGFzc0xpc3QudG9nZ2xlKCdvcGVuJylcclxuICAgIH0pO1xyXG4vKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXHJcbi8vIEV2ZW50IG1lbnVcclxuLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xyXG4gICAgY29uc3QgYnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5wcm9ncmFtX19uYXZpZ2F0aW9uIGEnKTtcclxuXHJcbiAgICBBcnJheS5mcm9tKGJ1dHRvbnMpLmZvckVhY2goZnVuY3Rpb24oJGJ0bikge1xyXG4gICAgICAgICRidG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZBY3RpdmUpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgZnVuY3Rpb24gZkFjdGl2ZShlKSB7XHJcbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICAvL2UucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICBpZiggIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5hY3RpdmUnKSApe1xyXG4gICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYWN0aXZlJykuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGUuY3VycmVudFRhcmdldC5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcclxuICAgIH07XHJcbi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cclxuLy8gRm9ybSBjb250YWN0IGZlZWRiYWNrIGFuZCBmb2N1c1xyXG4vKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXHJcbiAgICB2YXIgZkNoZWNrRm9ybSA9IGZ1bmN0aW9uIGZDaGVja0Zvcm0oKSB7XHJcbiAgICAgICAgdmFyICRGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignZm9ybS5jb250YWN0Jyk7XHJcbiAgICAgICAgdmFyICRGaXJzdE5hbWVGaWVsZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmaXJzdF9uYW1lJyk7XHJcbiAgICAgICAgdmFyICRMYXN0TmFtZUZpZWxkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xhc3RfbmFtZScpO1xyXG4gICAgICAgIHZhciAkRW1haWxGaWVsZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlbWFpbCcpO1xyXG4gICAgICAgIHZhciAkTXNnRmllbGQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWVzc2FnZScpO1xyXG4gICAgICAgIHZhciAkU3VibWl0QnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N1Ym1pdCcpO1xyXG4gICAgICAgIHZhciByZWdleHBOYW1lID0gL15bYS16QS1aXFx1MDBDMC1cXHUwMEZGXStbJy1dP1thLXpBLVpcXHUwMEMwLVxcdTAwRkZdKyQvO1xyXG4gICAgICAgIHZhciByZWdleHBFbWFpbCA9IC9eKFthLXowLTlfXFwuLV0rKUAoW1xcZGEtelxcLi1dKylcXC4oW2EtelxcLl17Miw2fSkkLztcclxuICAgICAgICB2YXIgcmVnZXhwTXNnID0gL14oW2EtekEtWl17Miw0MH0gKyBbYS16QS1aXXsyLDQwfSkkLztcclxuICAgICAgICB2YXIgZkNoZWNrQUZpZWxkID0gZnVuY3Rpb24gZkNoZWNrQUZpZWxkKGZpZWxkLCByZWdleHApIHtcclxuICAgICAgICAgICAgaWYgKGZpZWxkLnZhbHVlID09ICcnKSB7XHJcbiAgICAgICAgICAgICAgICBmaWVsZC5wYXJlbnROb2RlLnF1ZXJ5U2VsZWN0b3IoJ3NwYW4nKS5pbm5lckhUTUwgPSBcIlZvdHJlIGNoYW1wcyBkZSBmb3JtdWxhaXJlIGVzdCB2aWRlLlwiO1xyXG4gICAgICAgICAgICAgICAgZmllbGQucGFyZW50Tm9kZS5xdWVyeVNlbGVjdG9yKCdzcGFuJykuY2xhc3NMaXN0LmFkZCgnb24nKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChyZWdleHAgJiYgIXJlZ2V4cC50ZXN0KGZpZWxkLnZhbHVlKSkge1xyXG4gICAgICAgICAgICAgICAgZmllbGQucGFyZW50Tm9kZS5xdWVyeVNlbGVjdG9yKCdzcGFuJykuaW5uZXJIVE1MID0gXCJJbCBzZW1ibGUgcXVlIGxhIHZhbGV1ciByZW50csOpIGFpdCB1biBwcm9ibMOobWUuXCI7XHJcbiAgICAgICAgICAgICAgICBmaWVsZC5wYXJlbnROb2RlLnF1ZXJ5U2VsZWN0b3IoJ3NwYW4nKS5jbGFzc0xpc3QuYWRkKCdvbicpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgJFN1Ym1pdEJ0bi5yZW1vdmVBdHRyaWJ1dGUoJ2Rpc2FibGVkJyk7XHJcbiAgICAgICAgICAgICAgICBmaWVsZC5wYXJlbnROb2RlLnF1ZXJ5U2VsZWN0b3IoJ3NwYW4nKS5jbGFzc0xpc3QucmVtb3ZlKCdvbicpO1xyXG4gICAgICAgICAgICAgICAgZmllbGQucGFyZW50Tm9kZS5xdWVyeVNlbGVjdG9yKCcuaW5wdXQnKS5jbGFzc0xpc3QuYWRkKCdvaycpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIHZhciBmQ2hlY2tGaXJzdE5hbWUgPSBmdW5jdGlvbiBmQ2hlY2tGaXJzdE5hbWUoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmQ2hlY2tBRmllbGQoJEZpcnN0TmFtZUZpZWxkLCByZWdleHBOYW1lKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHZhciBmQ2hlY2tMYXN0TmFtZSA9IGZ1bmN0aW9uIGZDaGVja0xhc3ROYW1lKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gZkNoZWNrQUZpZWxkKCRMYXN0TmFtZUZpZWxkLCByZWdleHBOYW1lKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHZhciBmQ2hlY2tFbWFpbCA9IGZ1bmN0aW9uIGZDaGVja0VtYWlsKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gZkNoZWNrQUZpZWxkKCRFbWFpbEZpZWxkLCByZWdleHBFbWFpbCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICB2YXIgZkNoZWNrTWVzc2FnZSA9IGZ1bmN0aW9uIGZDaGVja01lc3NhZ2UoKSB7XHJcbiAgICAgICAgICAgIGlmICgkTXNnRmllbGQudmFsdWUuc3BsaXQoL1xccysvKS5sZW5ndGggPj0gMykge1xyXG4gICAgICAgICAgICAgICAgJE1zZ0ZpZWxkLnBhcmVudE5vZGUucXVlcnlTZWxlY3Rvcignc3BhbicpLmNsYXNzTGlzdC5yZW1vdmUoJ29uJyk7XHJcbiAgICAgICAgICAgICAgICAkTXNnRmllbGQucGFyZW50Tm9kZS5xdWVyeVNlbGVjdG9yKCcuaW5wdXQnKS5jbGFzc0xpc3QuYWRkKCdvaycpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKCRNc2dGaWVsZC52YWx1ZS5zcGxpdCgvXFxzKy8pLmxlbmd0aCA9PT0gMSkge1xyXG4gICAgICAgICAgICAgICAgJE1zZ0ZpZWxkLnBhcmVudE5vZGUucXVlcnlTZWxlY3Rvcignc3BhbicpLmlubmVySFRNTCA9IFwiVm91cyBuJ2F2ZXogcGFzIMOpY3JpdCBkZSBtZXNzYWdlLlwiO1xyXG4gICAgICAgICAgICAgICAgJE1zZ0ZpZWxkLnBhcmVudE5vZGUucXVlcnlTZWxlY3Rvcignc3BhbicpLmNsYXNzTGlzdC5hZGQoJ29uJyk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKCRNc2dGaWVsZC52YWx1ZS5zcGxpdCgvXFxzKy8pLmxlbmd0aCA8IDUpIHtcclxuICAgICAgICAgICAgICAgICRNc2dGaWVsZC5wYXJlbnROb2RlLnF1ZXJ5U2VsZWN0b3IoJ3NwYW4nKS5pbm5lckhUTUwgPSBcIlZvdXMgYXZleiBwYXMgw6ljcmlzIHVuIGFzc2V6IGdyYW5kIG1lc3NhZ2UuXCI7XHJcbiAgICAgICAgICAgICAgICAkTXNnRmllbGQucGFyZW50Tm9kZS5xdWVyeVNlbGVjdG9yKCdzcGFuJykuY2xhc3NMaXN0LmFkZCgnb24nKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgdmFyIGZDaGVja0FsbCA9IGZ1bmN0aW9uIGZDaGVja0FsbCgpIHtcclxuICAgICAgICAgICAgaWYgKGZDaGVja0ZpcnN0TmFtZSgpICogZkNoZWNrTGFzdE5hbWUoKSAqIGZDaGVja0VtYWlsKCkgKiBmQ2hlY2tNZXNzYWdlKCkgKSB7XHJcbiAgICAgICAgICAgICAgICAkRm9ybS5jbGFzc0xpc3QuYWRkKCd2YWxpZCcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgJEZpcnN0TmFtZUZpZWxkLmFkZEV2ZW50TGlzdGVuZXIoJ2JsdXInLCBmQ2hlY2tGaXJzdE5hbWUsIGZhbHNlKTtcclxuICAgICAgICAkTGFzdE5hbWVGaWVsZC5hZGRFdmVudExpc3RlbmVyKCdibHVyJywgZkNoZWNrTGFzdE5hbWUsIGZhbHNlKTtcclxuICAgICAgICAkRW1haWxGaWVsZC5hZGRFdmVudExpc3RlbmVyKCdibHVyJywgZkNoZWNrRW1haWwsIGZhbHNlKTtcclxuICAgICAgICAkTXNnRmllbGQuYWRkRXZlbnRMaXN0ZW5lcignYmx1cicsIGZDaGVja01lc3NhZ2UsIGZhbHNlKTtcclxuICAgICAgICAkU3VibWl0QnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZkNoZWNrQWxsLCBmYWxzZSk7XHJcblxyXG4gICAgICAgIHZhciBpbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2ZpZWxkc2V0IC5pbnB1dCcpO1xyXG4gICAgICAgIHZhciBnZXRGb2N1cyA9IGZ1bmN0aW9uIGdldEZvY3VzKG9FdmVudCkge1xyXG4gICAgICAgICAgICBvRXZlbnQuY3VycmVudFRhcmdldC5wYXJlbnROb2RlLnF1ZXJ5U2VsZWN0b3IoJ2xhYmVsJykuY2xhc3NMaXN0LmFkZChcImZvY3VzXCIpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgdmFyIG91dEZvY3VzID0gZnVuY3Rpb24gb3V0Rm9jdXMoZSkge1xyXG4gICAgICAgICAgICBpZiAoZS5jdXJyZW50VGFyZ2V0LnBhcmVudE5vZGUucXVlcnlTZWxlY3RvcignLmlucHV0JykudmFsdWUubGVuZ3RoID09PSAwIHx8IGUuY3VycmVudFRhcmdldC5wYXJlbnROb2RlLnF1ZXJ5U2VsZWN0b3IoJy5pbnB1dCBvcHRpb24nKS52YWx1ZS5sZW5ndGggPT09IDAgKSB7XHJcbiAgICAgICAgICAgICAgICBlLmN1cnJlbnRUYXJnZXQucGFyZW50Tm9kZS5xdWVyeVNlbGVjdG9yKCdsYWJlbCcpLmNsYXNzTGlzdC5yZW1vdmUoXCJmb2N1c1wiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgQXJyYXkuZnJvbShpbnB1dCkuZm9yRWFjaChmdW5jdGlvbigkbGFiZWwpIHtcclxuICAgICAgICAgICAgJGxhYmVsLmFkZEV2ZW50TGlzdGVuZXIoXCJmb2N1c1wiLCBnZXRGb2N1cyk7XHJcbiAgICAgICAgICAgICRsYWJlbC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZ2V0Rm9jdXMpO1xyXG4gICAgICAgICAgICAkbGFiZWwuYWRkRXZlbnRMaXN0ZW5lcihcImJsdXJcIiwgb3V0Rm9jdXMpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIGZDaGVja0Zvcm0oKTtcclxuLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xyXG4vLyBGb3JtIGNvbnRhY3QgZmVlZGJhY2sgYW5kIGZvY3VzXHJcbi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cclxuICAgIGNvbnN0IGZDYW5jZWxBbmNob3IgPSBmdW5jdGlvbihlKXtcclxuICAgICAgICBpZiAod2luZG93LmxvY2F0aW9uLmhhc2gpIHtcclxuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICB3aW5kb3cuc2Nyb2xsVG8od2luZG93LnBhZ2VYT2Zmc2V0LCB3aW5kb3cucGFnZVlPZmZzZXQpO1xyXG4gICAgICAgIH0sIDEpO1xyXG4gICAgfVxyXG4gICAgICAgIGNvbnNvbGUubG9nKHdpbmRvdy5wYWdlWE9mZnNldCwgd2luZG93LnBhZ2VZT2Zmc2V0KTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBidWxsZXRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmJ1bGxldHNfbmF2Jyk7XHJcbiAgICBcclxuXHJcbiAgICBjb25zdCBmUGFnZUlzTG9hZGVkID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgQXJyYXkuZnJvbShidWxsZXRzKS5mb3JFYWNoKGZ1bmN0aW9uKCRidG4pIHtcclxuICAgICAgICAgICAgJGJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZkNhbmNlbEFuY2hvcik7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLCBmUGFnZUlzTG9hZGVkKTsiXX0=
