;(function(){'use strict';var pageTitle=document.head.getElementsByTagName('title')[0].innerText;if(pageTitle==='Bienvenue - Saint-Léon\'Art'){var timeToLaunch=function timeToLaunch(){var currentDate=new Date();var diff=(currentDate-targetDate)/1000;var diff=Math.abs(Math.floor(diff));days=Math.floor(diff/(24*60*60));sec=diff-days*24*60*60;hrs=Math.floor(sec/(60*60));sec=sec-hrs*60*60;min=Math.floor(sec/60);sec=sec-min*60;};var countDownTimer=function countDownTimer(){timeToLaunch();$("#days .number").text(days);$("#hours .number").text(hrs);$("#minutes .number").text(min);setTimeout(countDownTimer,1000);};var numberTransition=function numberTransition(id,endPoint,transitionDuration,transitionEase){$({numberCount:$(id).text()}).animate({numberCount:endPoint},{duration:transitionDuration,easing:transitionEase,step:function step(){$(id).text(Math.floor(this.numberCount));},complete:function complete(){$(id).text(this.numberCount);}});};var targetDate=new Date("2018/08/19 18:00:00");var days;var hrs;var min;var sec;$(function(){timeToLaunch();numberTransition('#days .number',days,1000,'easeOutQuad');numberTransition('#hours .number',hrs,1000,'easeOutQuad');numberTransition('#minutes .number',min,1000,'easeOutQuad');setTimeout(countDownTimer,1001);});;}var hamburger=document.querySelector('.hamburger');var search=document.querySelector('.search-icon');var sidebarOpened=false;function openMenu(){document.body.classList.add('has-sidebar');hamburger.classList.add('is-active');sidebarOpened=true;return;}function closeMenu(){document.body.classList.remove('has-sidebar');hamburger.classList.remove('is-active');sidebarOpened=false;return;}hamburger.addEventListener('click',function(e){e.stopPropagation();e.preventDefault();if(!sidebarOpened){openMenu();}else{closeMenu();}});document.body.addEventListener('click',function(){if(sidebarOpened){document.body.classList.remove('has-sidebar');hamburger.classList.remove('is-active');sidebarOpened=false;return;}});search.addEventListener('click',function(e){e.stopPropagation();e.preventDefault();search.classList.toggle('open');search.parentNode.classList.toggle('open');search.parentNode.parentNode.classList.toggle('open');});if(pageTitle===' » Programme - Saint-Léon\'Art'){var fActive=function fActive(e){e.stopPropagation();if(document.querySelector('.program__navigation .day a.active')){document.querySelector('.program__navigation .day a.active').classList.remove('active');document.querySelector('.program .timeline.all#all').classList.remove('here');}e.currentTarget.classList.add('active');};var buttons=document.querySelectorAll('.program__navigation .day a');;Array.from(buttons).forEach(function($btn){$btn.addEventListener("click",fActive);});}if(pageTitle===' » À propos - Saint-Léon\'Art'){var fCancelAnchor=function fCancelAnchor(e){e.preventDefault();};var bullets=document.querySelectorAll('.bullets_nav');var translateValue;Array.from(bullets).forEach(function($btn){$btn.addEventListener("click",fCancelAnchor);$btn.addEventListener('click',function(){if(window.matchMedia("(max-width: 739px)").matches){var translateValue=$btn.getAttribute('data-translateValue-mobile');}else{var translateValue=$btn.getAttribute('data-translateValue-desktop');}if($btn.parentNode.querySelector('.active')){$btn.parentNode.querySelector('.active').classList.remove('active');}document.querySelector('.slider').style.transform='translateX('+translateValue+')';$btn.classList.add('active');if(document.querySelectorAll('.slider .precNext')){document.querySelectorAll('.slider .precNext')[0].classList.remove('precNext');document.querySelectorAll('.slider .precNext')[0].classList.remove('precNext');}img[$btn.getAttribute('data-prec-img')].classList.toggle('precNext');img[$btn.getAttribute('data-next-img')].classList.toggle('precNext');});});var prevNext=document.querySelectorAll('.prevNext div button');Array.from(prevNext).forEach(function($prevNext){$prevNext.addEventListener("click",fCancelAnchor);$prevNext.addEventListener("click",function(){if(window.matchMedia("(max-width: 739px)").matches){var translateValue=$prevNext.getAttribute('data-translateValue-mobile');}else{var translateValue=$prevNext.getAttribute('data-translateValue-desktop');}document.querySelector('.slider').style.transform='translateX('+translateValue+')';var prevNextParent=$prevNext.parentNode.parentNode;prevNextParent.childNodes[$prevNext.getAttribute('data-next')].style.visibility='visible';prevNextParent.childNodes[$prevNext.getAttribute('data-prec')].style.visibility='hidden';if(document.querySelectorAll('.slider .precNext')){document.querySelectorAll('.slider .precNext')[0].classList.remove('precNext');document.querySelectorAll('.slider .precNext')[0].classList.remove('precNext');}img[$prevNext.getAttribute('data-prec-img')].classList.toggle('precNext');img[$prevNext.getAttribute('data-next-img')].classList.toggle('precNext');var btnA=document.querySelectorAll('.bullets_nav');var btn=document.querySelector('.bullets_nav');if(document.querySelector('.bullets .active')){document.querySelector('.bullets .active').classList.remove('active');}btnA[$prevNext.getAttribute('data-focus')].classList.add('active');});$;});var img=document.querySelectorAll('.slider div');$('.count').each(function(){$(this).prop('Counter',0).animate({Counter:$(this).text()},{duration:4000,easing:'swing',step:function step(now){$(this).text(Math.ceil(now));}});});}var fAnimInput=function fAnimInput(){var input=document.querySelectorAll('.input');var getFocus=function getFocus(oEvent){oEvent.currentTarget.parentNode.querySelector('label').classList.add("focus");var oInput=oEvent.currentTarget.parentNode.querySelector('.input');setTimeout(function(){oInput.classList.add("border");},200);};var outFocus=function outFocus(e){if(e.currentTarget.parentNode.querySelector('.input').value.length===0){e.currentTarget.parentNode.querySelector('label').classList.remove("focus");}e.currentTarget.classList.remove("border");};Array.from(input).forEach(function($label){$label.addEventListener("focus",getFocus);$label.addEventListener("click",getFocus);$label.addEventListener("blur",outFocus);if($label.value!=""){$label.parentNode.querySelector('label').classList.add("focus");}});};fAnimInput();if(pageTitle===' » Tous les artistes - Saint-Léon\'Art'){jQuery(function($){$('#filter').submit(function(){var filter=$('#filter');$.ajax({url:filter.attr('action'),data:filter.serialize(),type:filter.attr('method'),success:function success(data){$('.artist__container').html(data);console.log(data);}});return false;});});}if(pageTitle===' » Tous les événements - Saint-Léon\'Art'){jQuery(function($){$('#event_filter').submit(function(){var filter=$('#event_filter');$.ajax({url:filter.attr('action'),data:filter.serialize(),type:filter.attr('method'),success:function success(data){$('.event__container').html(data);console.log(data);}});return false;});});}if(pageTitle===' » Actualités - Saint-Léon\'Art'){jQuery(function($){$('#news_filter').submit(function(){var filter=$('#news_filter');$.ajax({url:filter.attr('action'),data:filter.serialize(),type:filter.attr('method'),success:function success(data){$('.event__container').html(data);console.log(data);}});return false;});});}if(window.matchMedia("(min-width: 980px)").matches){var fAddLogoMenu=function fAnimMenu(){var menu=document.querySelector('ul.menu');var li=document.createElement("li");var span=document.createElement('span');var sheet=window.document.styleSheets[0];var midle=menu.childNodes[7];li.appendChild(span);span.appendChild(document.createTextNode("SaintLeon'Art"));menu.insertBefore(li,midle.nextSibling);li.classList.add('menu__item');li.classList.add('logo');span.classList.add('logo');menu.classList.add('onScroll');sheet.insertRule('.header {padding-top: 0px;}',sheet.cssRules.length);};var fRemoveLogoMenu=function fRemoveLogoMenu(e){var sheet=window.document.styleSheets[0];var menu=document.querySelector('ul.menu');var logo=menu.querySelector('.menu__item.logo');menu.classList.remove('onScroll');menu.removeChild(logo);sheet.insertRule('.header {padding-top: 24px;}',sheet.cssRules.length);};var AnimMenu=function(){var executed=false;var actionDo=false;return function(e){if(!executed){if(window.pageYOffset>10){executed=true;actionDo=true;fAddLogoMenu();}}if(actionDo&&executed){if(window.pageYOffset<10){actionDo=false;executed=false;fRemoveLogoMenu();}}};}();window.addEventListener('scroll',AnimMenu);window.addEventListener('load',AnimMenu);}function PathLoader(el){this.el=el;this.strokeLength=el.getTotalLength();this.el.style.strokeDasharray=this.el.style.strokeDashoffset=this.strokeLength;}PathLoader.prototype._draw=function(val){this.el.style.strokeDashoffset=this.strokeLength*(1-val);};PathLoader.prototype.setProgress=function(val,cb){this._draw(val);if(cb&&typeof cb==='function')cb();};PathLoader.prototype.setProgressFn=function(fn){if(typeof fn==='function')fn(this);};var body=document.body,svg=document.querySelector('svg path');if(svg!==null){svg=new PathLoader(svg);setTimeout(function(){document.body.classList.add('active');svg.setProgress(1);},200);}})();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdC5qcyJdLCJuYW1lcyI6WyJwYWdlVGl0bGUiLCJkb2N1bWVudCIsImhlYWQiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsImlubmVyVGV4dCIsInRpbWVUb0xhdW5jaCIsImN1cnJlbnREYXRlIiwiRGF0ZSIsImRpZmYiLCJ0YXJnZXREYXRlIiwiTWF0aCIsImFicyIsImZsb29yIiwiZGF5cyIsInNlYyIsImhycyIsIm1pbiIsImNvdW50RG93blRpbWVyIiwiJCIsInRleHQiLCJzZXRUaW1lb3V0IiwibnVtYmVyVHJhbnNpdGlvbiIsImlkIiwiZW5kUG9pbnQiLCJ0cmFuc2l0aW9uRHVyYXRpb24iLCJ0cmFuc2l0aW9uRWFzZSIsIm51bWJlckNvdW50IiwiYW5pbWF0ZSIsImR1cmF0aW9uIiwiZWFzaW5nIiwic3RlcCIsImNvbXBsZXRlIiwiaGFtYnVyZ2VyIiwicXVlcnlTZWxlY3RvciIsInNlYXJjaCIsInNpZGViYXJPcGVuZWQiLCJvcGVuTWVudSIsImJvZHkiLCJjbGFzc0xpc3QiLCJhZGQiLCJjbG9zZU1lbnUiLCJyZW1vdmUiLCJhZGRFdmVudExpc3RlbmVyIiwiZSIsInN0b3BQcm9wYWdhdGlvbiIsInByZXZlbnREZWZhdWx0IiwidG9nZ2xlIiwicGFyZW50Tm9kZSIsImZBY3RpdmUiLCJjdXJyZW50VGFyZ2V0IiwiYnV0dG9ucyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJBcnJheSIsImZyb20iLCJmb3JFYWNoIiwiJGJ0biIsImZDYW5jZWxBbmNob3IiLCJidWxsZXRzIiwidHJhbnNsYXRlVmFsdWUiLCJ3aW5kb3ciLCJtYXRjaE1lZGlhIiwibWF0Y2hlcyIsImdldEF0dHJpYnV0ZSIsInN0eWxlIiwidHJhbnNmb3JtIiwiaW1nIiwicHJldk5leHQiLCIkcHJldk5leHQiLCJwcmV2TmV4dFBhcmVudCIsImNoaWxkTm9kZXMiLCJ2aXNpYmlsaXR5IiwiYnRuQSIsImJ0biIsImVhY2giLCJwcm9wIiwiQ291bnRlciIsIm5vdyIsImNlaWwiLCJmQW5pbUlucHV0IiwiaW5wdXQiLCJnZXRGb2N1cyIsIm9FdmVudCIsIm9JbnB1dCIsIm91dEZvY3VzIiwidmFsdWUiLCJsZW5ndGgiLCIkbGFiZWwiLCJqUXVlcnkiLCJzdWJtaXQiLCJmaWx0ZXIiLCJhamF4IiwidXJsIiwiYXR0ciIsImRhdGEiLCJzZXJpYWxpemUiLCJ0eXBlIiwic3VjY2VzcyIsImh0bWwiLCJjb25zb2xlIiwibG9nIiwiZkFkZExvZ29NZW51IiwiZkFuaW1NZW51IiwibWVudSIsImxpIiwiY3JlYXRlRWxlbWVudCIsInNwYW4iLCJzaGVldCIsInN0eWxlU2hlZXRzIiwibWlkbGUiLCJhcHBlbmRDaGlsZCIsImNyZWF0ZVRleHROb2RlIiwiaW5zZXJ0QmVmb3JlIiwibmV4dFNpYmxpbmciLCJpbnNlcnRSdWxlIiwiY3NzUnVsZXMiLCJmUmVtb3ZlTG9nb01lbnUiLCJsb2dvIiwicmVtb3ZlQ2hpbGQiLCJBbmltTWVudSIsImV4ZWN1dGVkIiwiYWN0aW9uRG8iLCJwYWdlWU9mZnNldCIsIlBhdGhMb2FkZXIiLCJlbCIsInN0cm9rZUxlbmd0aCIsImdldFRvdGFsTGVuZ3RoIiwic3Ryb2tlRGFzaGFycmF5Iiwic3Ryb2tlRGFzaG9mZnNldCIsInByb3RvdHlwZSIsIl9kcmF3IiwidmFsIiwic2V0UHJvZ3Jlc3MiLCJjYiIsInNldFByb2dyZXNzRm4iLCJmbiIsInN2ZyJdLCJtYXBwaW5ncyI6IjBCQUNBLEdBQU1BLFdBQVlDLFNBQVNDLElBQVQsQ0FBY0Msb0JBQWQsQ0FBbUMsT0FBbkMsRUFBNEMsQ0FBNUMsRUFBK0NDLFNBQWpFLENBRUEsR0FBSUosWUFBYyw2QkFBbEIsQ0FBaUQsSUErQnBDSyxhQS9Cb0MsQ0ErQjdDLFFBQVNBLGFBQVQsRUFBd0IsQ0FFcEIsR0FBSUMsYUFBYyxHQUFJQyxLQUFKLEVBQWxCLENBR0EsR0FBSUMsTUFBTyxDQUFDRixZQUFjRyxVQUFmLEVBQTZCLElBQXhDLENBQ0EsR0FBSUQsTUFBT0UsS0FBS0MsR0FBTCxDQUFTRCxLQUFLRSxLQUFMLENBQVdK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LENBQWUsQ0FDeEMsS0FBS1AsRUFBTCxDQUFRNUQsS0FBUixDQUFjZ0UsZ0JBQWQsQ0FBaUMsS0FBS0gsWUFBTCxFQUFxQixFQUFJTSxHQUF6QixDQUFqQyxDQUNILENBRkQsQ0FJQVIsV0FBV00sU0FBWCxDQUFxQkcsV0FBckIsQ0FBbUMsU0FBVUQsR0FBVixDQUFlRSxFQUFmLENBQW1CLENBQ2xELEtBQUtILEtBQUwsQ0FBV0MsR0FBWCxFQUNBLEdBQUlFLElBQU0sTUFBT0EsR0FBUCxHQUFjLFVBQXhCLENBQW9DQSxLQUN2QyxDQUhELENBS0FWLFdBQVdNLFNBQVgsQ0FBcUJLLGFBQXJCLENBQXFDLFNBQVVDLEVBQVYsQ0FBYyxDQUMvQyxHQUFJLE1BQU9BLEdBQVAsR0FBYyxVQUFsQixDQUE4QkEsR0FBRyxJQUFILEVBQ2pDLENBRkQsQ0FJQSxHQUFJakcsTUFBT3BDLFNBQVNvQyxJQUFwQixDQUNJa0csSUFBTXRJLFNBQVNnQyxhQUFULENBQXVCLFVBQXZCLENBRFYsQ0FHQSxHQUFJc0csTUFBUSxJQUFaLENBQWtCLENBQ2RBLElBQU0sR0FBSWIsV0FBSixDQUFlYSxHQUFmLENBQU4sQ0FFQW5ILFdBQVcsVUFBWSxDQUNuQm5CLFNBQVNvQyxJQUFULENBQWNDLFNBQWQsQ0FBd0JDLEdBQXhCLENBQTRCLFFBQTVCLEVBQ0FnRyxJQUFJSixXQUFKLENBQWdCLENBQWhCLEVBQ0gsQ0FIRCxDQUdHLEdBSEgsRUFJSCxDIiwiZmlsZSI6InNjcmlwdC5qcyIsInNvdXJjZXNDb250ZW50IjpbIlxyXG5jb25zdCBwYWdlVGl0bGUgPSBkb2N1bWVudC5oZWFkLmdldEVsZW1lbnRzQnlUYWdOYW1lKCd0aXRsZScpWzBdLmlubmVyVGV4dDtcclxuXHJcbmlmIChwYWdlVGl0bGUgPT09ICdCaWVudmVudWUgLSBTYWludC1Mw6lvblxcJ0FydCcgKXtcclxuXHJcbiAgICAvLyBDb3VudGRvd24gaG9tZSBwYWdlXHJcbiAgICAvKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXHJcbiAgICAvLyBUaGUgZGF0ZSB5b3Ugd2FudCB0byBjb3VudCBkb3duIHRvXHJcbiAgICB2YXIgdGFyZ2V0RGF0ZSA9IG5ldyBEYXRlKFwiMjAxOC8wOC8xOSAxODowMDowMFwiKTtcclxuXHJcbiAgICAvLyBPdGhlciBkYXRlIHJlbGF0ZWQgdmFyaWFibGVzXHJcbiAgICB2YXIgZGF5cztcclxuICAgIHZhciBocnM7XHJcbiAgICB2YXIgbWluO1xyXG4gICAgdmFyIHNlYztcclxuXHJcbiAgICAvKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICAgKiBPTiBET0NVTUVOVCBMT0FEXHJcbiAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXHJcbiAgICAkKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAvLyBDYWxjdWxhdGUgdGltZSB1bnRpbCBsYXVuY2ggZGF0ZVxyXG4gICAgICAgIHRpbWVUb0xhdW5jaCgpO1xyXG4gICAgICAgIC8vIFRyYW5zaXRpb24gdGhlIGN1cnJlbnQgY291bnRkb3duIGZyb20gMCBcclxuICAgICAgICBudW1iZXJUcmFuc2l0aW9uKCcjZGF5cyAubnVtYmVyJywgZGF5cywgMTAwMCwgJ2Vhc2VPdXRRdWFkJyk7XHJcbiAgICAgICAgbnVtYmVyVHJhbnNpdGlvbignI2hvdXJzIC5udW1iZXInLCBocnMsIDEwMDAsICdlYXNlT3V0UXVhZCcpO1xyXG4gICAgICAgIG51bWJlclRyYW5zaXRpb24oJyNtaW51dGVzIC5udW1iZXInLCBtaW4sIDEwMDAsICdlYXNlT3V0UXVhZCcpO1xyXG4gICAgICAgIC8vIEJlZ2luIENvdW50ZG93blxyXG4gICAgICAgIHNldFRpbWVvdXQoY291bnREb3duVGltZXIsIDEwMDEpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAgICogRklHVVJFIE9VVCBUSEUgQU1PVU5UIE9GIFxyXG4gICAgVElNRSBMRUZUIEJFRk9SRSBMQVVOQ0hcclxuICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cclxuICAgIGZ1bmN0aW9uIHRpbWVUb0xhdW5jaCgpIHtcclxuICAgICAgICAvLyBHZXQgdGhlIGN1cnJlbnQgZGF0ZVxyXG4gICAgICAgIHZhciBjdXJyZW50RGF0ZSA9IG5ldyBEYXRlKCk7XHJcblxyXG4gICAgICAgIC8vIEZpbmQgdGhlIGRpZmZlcmVuY2UgYmV0d2VlbiBkYXRlc1xyXG4gICAgICAgIHZhciBkaWZmID0gKGN1cnJlbnREYXRlIC0gdGFyZ2V0RGF0ZSkgLyAxMDAwO1xyXG4gICAgICAgIHZhciBkaWZmID0gTWF0aC5hYnMoTWF0aC5mbG9vcihkaWZmKSk7XHJcblxyXG4gICAgICAgIC8vIENoZWNrIG51bWJlciBvZiBkYXlzIHVudGlsIHRhcmdldFxyXG4gICAgICAgIGRheXMgPSBNYXRoLmZsb29yKGRpZmYgLyAoMjQgKiA2MCAqIDYwKSk7XHJcbiAgICAgICAgc2VjID0gZGlmZiAtIGRheXMgKiAyNCAqIDYwICogNjA7XHJcblxyXG4gICAgICAgIC8vIENoZWNrIG51bWJlciBvZiBob3VycyB1bnRpbCB0YXJnZXRcclxuICAgICAgICBocnMgPSBNYXRoLmZsb29yKHNlYyAvICg2MCAqIDYwKSk7XHJcbiAgICAgICAgc2VjID0gc2VjIC0gaHJzICogNjAgKiA2MDtcclxuXHJcbiAgICAgICAgLy8gQ2hlY2sgbnVtYmVyIG9mIG1pbnV0ZXMgdW50aWwgdGFyZ2V0XHJcbiAgICAgICAgbWluID0gTWF0aC5mbG9vcihzZWMgLyAoNjApKTtcclxuICAgICAgICBzZWMgPSBzZWMgLSBtaW4gKiA2MDtcclxuICAgIH1cclxuXHJcbiAgICAvKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICAgKiBESVNQTEFZIFRIRSBDVVJSRU5UIFxyXG4gICAgQ09VTlQgVE8gTEFVTkNIXHJcbiAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXHJcbiAgICBmdW5jdGlvbiBjb3VudERvd25UaW1lcigpIHtcclxuXHJcbiAgICAgICAgLy8gRmlndXJlIG91dCB0aGUgdGltZSB0byBsYXVuY2hcclxuICAgICAgICB0aW1lVG9MYXVuY2goKTtcclxuXHJcbiAgICAgICAgLy8gV3JpdGUgdG8gY291bnRkb3duIGNvbXBvbmVudFxyXG4gICAgICAgICQoXCIjZGF5cyAubnVtYmVyXCIpLnRleHQoZGF5cyk7XHJcbiAgICAgICAgJChcIiNob3VycyAubnVtYmVyXCIpLnRleHQoaHJzKTtcclxuICAgICAgICAkKFwiI21pbnV0ZXMgLm51bWJlclwiKS50ZXh0KG1pbik7XHJcblxyXG4gICAgICAgIC8vIFJlcGVhdCB0aGUgY2hlY2sgZXZlcnkgc2Vjb25kXHJcbiAgICAgICAgc2V0VGltZW91dChjb3VudERvd25UaW1lciwgMTAwMCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAgICogVFJBTlNJVElPTiBOVU1CRVJTIEZST00gMFxyXG4gICAgVE8gQ1VSUkVOVCBUSU1FIFVOVElMIExBVU5DSFxyXG4gICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xyXG4gICAgZnVuY3Rpb24gbnVtYmVyVHJhbnNpdGlvbihpZCwgZW5kUG9pbnQsIHRyYW5zaXRpb25EdXJhdGlvbiwgdHJhbnNpdGlvbkVhc2UpIHtcclxuICAgICAgICAvLyBUcmFuc2l0aW9uIG51bWJlcnMgZnJvbSAwIHRvIHRoZSBmaW5hbCBudW1iZXJcclxuICAgICAgICAkKHsgbnVtYmVyQ291bnQ6ICQoaWQpLnRleHQoKSB9KS5hbmltYXRlKHsgbnVtYmVyQ291bnQ6IGVuZFBvaW50IH0sIHtcclxuICAgICAgICAgICAgZHVyYXRpb246IHRyYW5zaXRpb25EdXJhdGlvbixcclxuICAgICAgICAgICAgZWFzaW5nOiB0cmFuc2l0aW9uRWFzZSxcclxuICAgICAgICAgICAgc3RlcDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgJChpZCkudGV4dChNYXRoLmZsb29yKHRoaXMubnVtYmVyQ291bnQpKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgY29tcGxldGU6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICQoaWQpLnRleHQodGhpcy5udW1iZXJDb3VudCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbn1cclxuXHJcbi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cclxuLy8gSGFtYnVyZ2VyIG1lbnUgYW5kIHNpZGViYXJcclxuLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xyXG4gICAgY29uc3QgaGFtYnVyZ2VyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhhbWJ1cmdlcicpO1xyXG4gICAgY29uc3Qgc2VhcmNoID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNlYXJjaC1pY29uJylcclxuICAgIGxldCBzaWRlYmFyT3BlbmVkID0gZmFsc2VcclxuXHJcbiAgICBmdW5jdGlvbiBvcGVuTWVudSgpe1xyXG4gICAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmFkZCgnaGFzLXNpZGViYXInKVxyXG4gICAgICAgIGhhbWJ1cmdlci5jbGFzc0xpc3QuYWRkKCdpcy1hY3RpdmUnKVxyXG4gICAgICAgIHNpZGViYXJPcGVuZWQgPSB0cnVlO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBjbG9zZU1lbnUoKSB7XHJcbiAgICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QucmVtb3ZlKCdoYXMtc2lkZWJhcicpXHJcbiAgICAgICAgaGFtYnVyZ2VyLmNsYXNzTGlzdC5yZW1vdmUoJ2lzLWFjdGl2ZScpXHJcbiAgICAgICAgc2lkZWJhck9wZW5lZCA9IGZhbHNlO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGhhbWJ1cmdlci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpXHJcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpXHJcbiAgICAgICAgaWYgKCFzaWRlYmFyT3BlbmVkKSB7XHJcbiAgICAgICAgICAgIG9wZW5NZW51KClcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgY2xvc2VNZW51KClcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuICAgIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKHNpZGViYXJPcGVuZWQpIHtcclxuICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QucmVtb3ZlKCdoYXMtc2lkZWJhcicpXHJcbiAgICAgICAgICAgIGhhbWJ1cmdlci5jbGFzc0xpc3QucmVtb3ZlKCdpcy1hY3RpdmUnKVxyXG4gICAgICAgICAgICBzaWRlYmFyT3BlbmVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICBzZWFyY2guYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKVxyXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKVxyXG4gICAgICAgIHNlYXJjaC5jbGFzc0xpc3QudG9nZ2xlKCdvcGVuJylcclxuICAgICAgICBzZWFyY2gucGFyZW50Tm9kZS5jbGFzc0xpc3QudG9nZ2xlKCdvcGVuJyk7XHJcbiAgICAgICAgc2VhcmNoLnBhcmVudE5vZGUucGFyZW50Tm9kZS5jbGFzc0xpc3QudG9nZ2xlKCdvcGVuJyk7XHJcbiAgICB9KTtcclxuXHJcbmlmIChwYWdlVGl0bGUgPT09ICcgwrsgUHJvZ3JhbW1lIC0gU2FpbnQtTMOpb25cXCdBcnQnKXtcclxuICAgIC8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cclxuICAgIC8vIEV2ZW50IG1lbnVcclxuICAgIC8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cclxuICAgICAgICBjb25zdCBidXR0b25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnByb2dyYW1fX25hdmlnYXRpb24gLmRheSBhJyk7XHJcblxyXG4gICAgICAgIFxyXG4gICAgICAgIGZ1bmN0aW9uIGZBY3RpdmUoZSkge1xyXG4gICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgICAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2dyYW1fX25hdmlnYXRpb24gLmRheSBhLmFjdGl2ZScpKSB7XHJcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZ3JhbV9fbmF2aWdhdGlvbiAuZGF5IGEuYWN0aXZlJykuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZ3JhbSAudGltZWxpbmUuYWxsI2FsbCcpLmNsYXNzTGlzdC5yZW1vdmUoJ2hlcmUnKTtcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGUuY3VycmVudFRhcmdldC5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIEFycmF5LmZyb20oYnV0dG9ucykuZm9yRWFjaChmdW5jdGlvbigkYnRuKSB7XHJcbiAgICAgICAgICAgICRidG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZBY3RpdmUpO1xyXG4gICAgICAgIH0pO1xyXG59XHJcbi8vIGlmIChwYWdlVGl0bGUgPT09ICcgwrsgUGFnZSBjb250YWN0IC0gU2FpbnQtTMOpb25cXCdBcnQnKXtcclxuLy8gICAgIC8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cclxuLy8gICAgIC8vIEZvcm0gY29udGFjdCBmZWVkYmFjayBhbmQgZm9jdXNcclxuLy8gICAgIC8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cclxuLy8gICAgICAgICB2YXIgZkNoZWNrRm9ybSA9IGZ1bmN0aW9uIGZDaGVja0Zvcm0oKSB7XHJcbi8vICAgICAgICAgICAgIHZhciAkRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2Zvcm0uY29udGFjdCcpO1xyXG4vLyAgICAgICAgICAgICB2YXIgJFN1YmplY3RGaWVsZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdWJqZWN0Jyk7XHJcbi8vICAgICAgICAgICAgIHZhciAkTGFzdE5hbWVGaWVsZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsYXN0X25hbWUnKTtcclxuLy8gICAgICAgICAgICAgdmFyICRFbWFpbEZpZWxkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VtYWlsJyk7XHJcbi8vICAgICAgICAgICAgIHZhciAkTXNnRmllbGQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWVzc2FnZScpO1xyXG4vLyAgICAgICAgICAgICB2YXIgJFN1Ym1pdEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5idG4uYnRuLS1hbmltJyk7XHJcbi8vICAgICAgICAgICAgIHZhciByZWdleHBOYW1lID0gL15bYS16QS1aXFx1MDBDMC1cXHUwMEZGXStbJy1dP1thLXpBLVpcXHUwMEMwLVxcdTAwRkZdKyQvO1xyXG4vLyAgICAgICAgICAgICB2YXIgcmVnZXhwRW1haWwgPSAvXihbYS16MC05X1xcLi1dKylAKFtcXGRhLXpcXC4tXSspXFwuKFthLXpcXC5dezIsNn0pJC87XHJcbi8vICAgICAgICAgICAgIHZhciByZWdleHBNc2cgPSAvXihbYS16QS1aXXsyLDQwfSArIFthLXpBLVpdezIsNDB9KSQvO1xyXG4vLyAgICAgICAgICAgICB2YXIgZkNoZWNrQUZpZWxkID0gZnVuY3Rpb24gZkNoZWNrQUZpZWxkKGZpZWxkLCByZWdleHApIHtcclxuLy8gICAgICAgICAgICAgICAgIGlmIChmaWVsZC52YWx1ZSA9PSAnJykge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIGZpZWxkLnBhcmVudE5vZGUucXVlcnlTZWxlY3Rvcignc3BhbicpLmlubmVySFRNTCA9IFwiVm90cmUgY2hhbXBzIGRlIGZvcm11bGFpcmUgZXN0IHZpZGUuXCI7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgZmllbGQucGFyZW50Tm9kZS5xdWVyeVNlbGVjdG9yKCdzcGFuJykuY2xhc3NMaXN0LmFkZCgnb24nKTtcclxuLy8gICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbi8vICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHJlZ2V4cCAmJiAhcmVnZXhwLnRlc3QoZmllbGQudmFsdWUpKSB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgZmllbGQucGFyZW50Tm9kZS5xdWVyeVNlbGVjdG9yKCdzcGFuJykuaW5uZXJIVE1MID0gXCJJbCBzZW1ibGUgcXVlIGxhIHZhbGV1ciByZW50csOpIGFpdCB1biBwcm9ibMOobWUuXCI7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgZmllbGQucGFyZW50Tm9kZS5xdWVyeVNlbGVjdG9yKCdzcGFuJykuY2xhc3NMaXN0LmFkZCgnb24nKTtcclxuLy8gICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbi8vICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICRTdWJtaXRCdG4ucmVtb3ZlQXR0cmlidXRlKCdkaXNhYmxlZCcpO1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIGZpZWxkLnBhcmVudE5vZGUucXVlcnlTZWxlY3Rvcignc3BhbicpLmNsYXNzTGlzdC5yZW1vdmUoJ29uJyk7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgZmllbGQucGFyZW50Tm9kZS5xdWVyeVNlbGVjdG9yKCcuaW5wdXQnKS5jbGFzc0xpc3QuYWRkKCdvaycpO1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4vLyAgICAgICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICB9O1xyXG4vLyAgICAgICAgICAgICB2YXIgZkNoZWNrRmlyc3ROYW1lID0gZnVuY3Rpb24gZkNoZWNrRmlyc3ROYW1lKCkge1xyXG4vLyAgICAgICAgICAgICAgICAgcmV0dXJuIGZDaGVja0FGaWVsZCgkU3ViamVjdEZpZWxkLCByZWdleHBOYW1lKTtcclxuLy8gICAgICAgICAgICAgfTtcclxuLy8gICAgICAgICAgICAgdmFyIGZDaGVja0xhc3ROYW1lID0gZnVuY3Rpb24gZkNoZWNrTGFzdE5hbWUoKSB7XHJcbi8vICAgICAgICAgICAgICAgICByZXR1cm4gZkNoZWNrQUZpZWxkKCRMYXN0TmFtZUZpZWxkLCByZWdleHBOYW1lKTtcclxuLy8gICAgICAgICAgICAgfTtcclxuLy8gICAgICAgICAgICAgdmFyIGZDaGVja0VtYWlsID0gZnVuY3Rpb24gZkNoZWNrRW1haWwoKSB7XHJcbi8vICAgICAgICAgICAgICAgICByZXR1cm4gZkNoZWNrQUZpZWxkKCRFbWFpbEZpZWxkLCByZWdleHBFbWFpbCk7XHJcbi8vICAgICAgICAgICAgIH07XHJcbi8vICAgICAgICAgICAgIHZhciBmQ2hlY2tNZXNzYWdlID0gZnVuY3Rpb24gZkNoZWNrTWVzc2FnZSgpIHtcclxuLy8gICAgICAgICAgICAgICAgIGlmICgkTXNnRmllbGQudmFsdWUuc3BsaXQoL1xccysvKS5sZW5ndGggPj0gMykge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICRNc2dGaWVsZC5wYXJlbnROb2RlLnF1ZXJ5U2VsZWN0b3IoJ3NwYW4nKS5jbGFzc0xpc3QucmVtb3ZlKCdvbicpO1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICRNc2dGaWVsZC5wYXJlbnROb2RlLnF1ZXJ5U2VsZWN0b3IoJy5pbnB1dCcpLmNsYXNzTGlzdC5hZGQoJ29rJyk7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbi8vICAgICAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgICAgICBpZiAoJE1zZ0ZpZWxkLnZhbHVlLnNwbGl0KC9cXHMrLykubGVuZ3RoID09PSAxKSB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgJE1zZ0ZpZWxkLnBhcmVudE5vZGUucXVlcnlTZWxlY3Rvcignc3BhbicpLmlubmVySFRNTCA9IFwiVm91cyBuJ2F2ZXogcGFzIMOpY3JpdCBkZSBtZXNzYWdlLlwiO1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICRNc2dGaWVsZC5wYXJlbnROb2RlLnF1ZXJ5U2VsZWN0b3IoJ3NwYW4nKS5jbGFzc0xpc3QuYWRkKCdvbicpO1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuLy8gICAgICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgICAgIGlmICgkTXNnRmllbGQudmFsdWUuc3BsaXQoL1xccysvKS5sZW5ndGggPCA1KSB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgJE1zZ0ZpZWxkLnBhcmVudE5vZGUucXVlcnlTZWxlY3Rvcignc3BhbicpLmlubmVySFRNTCA9IFwiVm91cyBhdmV6IHBhcyDDqWNyaXMgdW4gYXNzZXogZ3JhbmQgbWVzc2FnZS5cIjtcclxuLy8gICAgICAgICAgICAgICAgICAgICAkTXNnRmllbGQucGFyZW50Tm9kZS5xdWVyeVNlbGVjdG9yKCdzcGFuJykuY2xhc3NMaXN0LmFkZCgnb24nKTtcclxuLy8gICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbi8vICAgICAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgIH07XHJcbi8vICAgICAgICAgICAgIHZhciBmQ2hlY2tBbGwgPSBmdW5jdGlvbiBmQ2hlY2tBbGwoKSB7XHJcbi8vICAgICAgICAgICAgICAgICBpZiAoZkNoZWNrRmlyc3ROYW1lKCkgKiBmQ2hlY2tMYXN0TmFtZSgpICogZkNoZWNrRW1haWwoKSAqIGZDaGVja01lc3NhZ2UoKSApIHtcclxuLy8gICAgICAgICAgICAgICAgICAgICAkRm9ybS5jbGFzc0xpc3QuYWRkKCd2YWxpZCcpO1xyXG4vLyAgICAgICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICB9O1xyXG5cclxuLy8gICAgICAgICAgICAgJFN1YmplY3RGaWVsZC5hZGRFdmVudExpc3RlbmVyKCdibHVyJywgZkNoZWNrRmlyc3ROYW1lLCBmYWxzZSk7XHJcbi8vICAgICAgICAgICAgICRMYXN0TmFtZUZpZWxkLmFkZEV2ZW50TGlzdGVuZXIoJ2JsdXInLCBmQ2hlY2tMYXN0TmFtZSwgZmFsc2UpO1xyXG4vLyAgICAgICAgICAgICAkRW1haWxGaWVsZC5hZGRFdmVudExpc3RlbmVyKCdibHVyJywgZkNoZWNrRW1haWwsIGZhbHNlKTtcclxuLy8gICAgICAgICAgICAgJE1zZ0ZpZWxkLmFkZEV2ZW50TGlzdGVuZXIoJ2JsdXInLCBmQ2hlY2tNZXNzYWdlLCBmYWxzZSk7XHJcbi8vICAgICAgICAgICAgICRTdWJtaXRCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmQ2hlY2tBbGwsIGZhbHNlKTtcclxuLy8gICAgICAgICB9O1xyXG4vLyAgICAgICAgIGZDaGVja0Zvcm0oKTtcclxuLy99XHJcbmlmIChwYWdlVGl0bGUgPT09ICcgwrsgw4AgcHJvcG9zIC0gU2FpbnQtTMOpb25cXCdBcnQnKXtcclxuICAgIC8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cclxuICAgIC8vIEpTIFNsaWRlclxyXG4gICAgLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xyXG4gICAgY29uc3QgZkNhbmNlbEFuY2hvciA9IGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgfVxyXG4gICAgY29uc3QgYnVsbGV0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5idWxsZXRzX25hdicpO1xyXG4gICAgdmFyIHRyYW5zbGF0ZVZhbHVlO1xyXG4gICAgQXJyYXkuZnJvbShidWxsZXRzKS5mb3JFYWNoKGZ1bmN0aW9uICgkYnRuKSB7XHJcbiAgICAgICAgJGJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZkNhbmNlbEFuY2hvcik7XHJcblxyXG5cclxuICAgICAgICAkYnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG5cclxuICAgICAgICAgICAgaWYgKHdpbmRvdy5tYXRjaE1lZGlhKFwiKG1heC13aWR0aDogNzM5cHgpXCIpLm1hdGNoZXMpIHtcclxuICAgICAgICAgICAgICAgIHZhciB0cmFuc2xhdGVWYWx1ZSA9ICRidG4uZ2V0QXR0cmlidXRlKCdkYXRhLXRyYW5zbGF0ZVZhbHVlLW1vYmlsZScpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdmFyIHRyYW5zbGF0ZVZhbHVlID0gJGJ0bi5nZXRBdHRyaWJ1dGUoJ2RhdGEtdHJhbnNsYXRlVmFsdWUtZGVza3RvcCcpO1xyXG5cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gUmVtb3ZlIGNsYXNzIGFjdGl2ZSBmcm9tIHByZWMgZm9jdXNcclxuICAgICAgICAgICAgaWYgKCRidG4ucGFyZW50Tm9kZS5xdWVyeVNlbGVjdG9yKCcuYWN0aXZlJykpIHtcclxuICAgICAgICAgICAgICAgICRidG4ucGFyZW50Tm9kZS5xdWVyeVNlbGVjdG9yKCcuYWN0aXZlJykuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIE1ha2UgdHJhbnNsYXRlWCBhbmltYXRpb24gb2Ygc2xpZGVyXHJcbiAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zbGlkZXInKS5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlWCgke3RyYW5zbGF0ZVZhbHVlfSlgO1xyXG5cclxuICAgICAgICAgICAgLy8gQWRkIGNsYXNzIGFjdGl2ZSBmcm9tIGFjdHVhbCBmb2N1c1xyXG4gICAgICAgICAgICAkYnRuLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xyXG5cclxuICAgICAgICAgICAgLy8gQ2hhbmdlIG9wYWNpdHkgb2YgcHJlYy9uZXh0IGltYWdlXHJcbiAgICAgICAgICAgIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc2xpZGVyIC5wcmVjTmV4dCcpKSB7XHJcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc2xpZGVyIC5wcmVjTmV4dCcpWzBdLmNsYXNzTGlzdC5yZW1vdmUoJ3ByZWNOZXh0Jyk7XHJcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc2xpZGVyIC5wcmVjTmV4dCcpWzBdLmNsYXNzTGlzdC5yZW1vdmUoJ3ByZWNOZXh0Jyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaW1nWyRidG4uZ2V0QXR0cmlidXRlKCdkYXRhLXByZWMtaW1nJyldLmNsYXNzTGlzdC50b2dnbGUoJ3ByZWNOZXh0Jyk7XHJcbiAgICAgICAgICAgIGltZ1skYnRuLmdldEF0dHJpYnV0ZSgnZGF0YS1uZXh0LWltZycpXS5jbGFzc0xpc3QudG9nZ2xlKCdwcmVjTmV4dCcpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgY29uc3QgcHJldk5leHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucHJldk5leHQgZGl2IGJ1dHRvbicpO1xyXG5cclxuICAgIEFycmF5LmZyb20ocHJldk5leHQpLmZvckVhY2goZnVuY3Rpb24gKCRwcmV2TmV4dCkge1xyXG4gICAgICAgICRwcmV2TmV4dC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZkNhbmNlbEFuY2hvcik7XHJcblxyXG5cclxuICAgICAgICAkcHJldk5leHQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuXHJcbiAgICAgICAgICAgIGlmICh3aW5kb3cubWF0Y2hNZWRpYShcIihtYXgtd2lkdGg6IDczOXB4KVwiKS5tYXRjaGVzKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdHJhbnNsYXRlVmFsdWUgPSAkcHJldk5leHQuZ2V0QXR0cmlidXRlKCdkYXRhLXRyYW5zbGF0ZVZhbHVlLW1vYmlsZScpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdmFyIHRyYW5zbGF0ZVZhbHVlID0gJHByZXZOZXh0LmdldEF0dHJpYnV0ZSgnZGF0YS10cmFuc2xhdGVWYWx1ZS1kZXNrdG9wJyk7XHJcblxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIE1ha2UgdHJhbnNsYXRlWCBhbmltYXRpb24gb2Ygc2xpZGVyXHJcbiAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zbGlkZXInKS5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlWCgke3RyYW5zbGF0ZVZhbHVlfSlgO1xyXG5cclxuICAgICAgICAgICAgLy8gQ3JlYXRlIHZhcmlhYmxlIGZvciB0aGUgcGFyZW50XHJcbiAgICAgICAgICAgIGNvbnN0IHByZXZOZXh0UGFyZW50ID0gJHByZXZOZXh0LnBhcmVudE5vZGUucGFyZW50Tm9kZTtcclxuXHJcbiAgICAgICAgICAgIC8vIEFkZCB2aXNpYmxlL2hpZGRlbiBzdHlsZSBmb3IgdGhlIG5leHRQcmVjIGJ1dHRvblxyXG4gICAgICAgICAgICBwcmV2TmV4dFBhcmVudC5jaGlsZE5vZGVzWyRwcmV2TmV4dC5nZXRBdHRyaWJ1dGUoJ2RhdGEtbmV4dCcpXS5zdHlsZS52aXNpYmlsaXR5ID0gJ3Zpc2libGUnO1xyXG4gICAgICAgICAgICBwcmV2TmV4dFBhcmVudC5jaGlsZE5vZGVzWyRwcmV2TmV4dC5nZXRBdHRyaWJ1dGUoJ2RhdGEtcHJlYycpXS5zdHlsZS52aXNpYmlsaXR5ID0gJ2hpZGRlbic7XHJcblxyXG4gICAgICAgICAgICAvLyBDaGFuZ2Ugb3BhY2l0eSBvZiBwcmVjL25leHQgaW1hZ2VcclxuICAgICAgICAgICAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zbGlkZXIgLnByZWNOZXh0JykpIHtcclxuICAgICAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zbGlkZXIgLnByZWNOZXh0JylbMF0uY2xhc3NMaXN0LnJlbW92ZSgncHJlY05leHQnKTtcclxuICAgICAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zbGlkZXIgLnByZWNOZXh0JylbMF0uY2xhc3NMaXN0LnJlbW92ZSgncHJlY05leHQnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpbWdbJHByZXZOZXh0LmdldEF0dHJpYnV0ZSgnZGF0YS1wcmVjLWltZycpXS5jbGFzc0xpc3QudG9nZ2xlKCdwcmVjTmV4dCcpO1xyXG4gICAgICAgICAgICBpbWdbJHByZXZOZXh0LmdldEF0dHJpYnV0ZSgnZGF0YS1uZXh0LWltZycpXS5jbGFzc0xpc3QudG9nZ2xlKCdwcmVjTmV4dCcpO1xyXG5cclxuICAgICAgICAgICAgLy8gUmVtb3ZlIGNsYXNzIGFjdGl2ZSBmcm9tIGJ1bGxldHMgcHJlYyBmb2N1c1xyXG4gICAgICAgICAgICBjb25zdCBidG5BID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmJ1bGxldHNfbmF2Jyk7XHJcbiAgICAgICAgICAgIGNvbnN0IGJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5idWxsZXRzX25hdicpO1xyXG4gICAgICAgICAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmJ1bGxldHMgLmFjdGl2ZScpKSB7XHJcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYnVsbGV0cyAuYWN0aXZlJykuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIEFkZCBjbGFzcyBhY3RpdmUgZnJvbSBhY3R1YWwgZm9jdXNcclxuICAgICAgICAgICAgYnRuQVskcHJldk5leHQuZ2V0QXR0cmlidXRlKCdkYXRhLWZvY3VzJyldLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAkXHJcbiAgICB9KTtcclxuXHJcbiAgICBjb25zdCBpbWcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc2xpZGVyIGRpdicpO1xyXG5cclxuICAgICQoJy5jb3VudCcpLmVhY2goZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICQodGhpcykucHJvcCgnQ291bnRlcicsIDApLmFuaW1hdGUoe1xyXG4gICAgICAgICAgICBDb3VudGVyOiAkKHRoaXMpLnRleHQoKVxyXG4gICAgICAgIH0sIHtcclxuICAgICAgICAgICAgICAgIGR1cmF0aW9uOiA0MDAwLFxyXG4gICAgICAgICAgICAgICAgZWFzaW5nOiAnc3dpbmcnLFxyXG4gICAgICAgICAgICAgICAgc3RlcDogZnVuY3Rpb24gKG5vdykge1xyXG4gICAgICAgICAgICAgICAgICAgICQodGhpcykudGV4dChNYXRoLmNlaWwobm93KSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfSk7XHJcbn1cclxuLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xyXG4vLyBJbnB1dCBBbmltXHJcbi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cclxuICAgIHZhciBmQW5pbUlucHV0ID0gZnVuY3Rpb24gZkFuaW1JbnB1dCgpIHtcclxuICAgICAgICB2YXIgaW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuaW5wdXQnKTtcclxuXHJcbiAgICAgICAgdmFyIGdldEZvY3VzID0gZnVuY3Rpb24gZ2V0Rm9jdXMob0V2ZW50KSB7XHJcbiAgICAgICAgICAgIG9FdmVudC5jdXJyZW50VGFyZ2V0LnBhcmVudE5vZGUucXVlcnlTZWxlY3RvcignbGFiZWwnKS5jbGFzc0xpc3QuYWRkKFwiZm9jdXNcIik7XHJcbiAgICAgICAgICAgIHZhciBvSW5wdXQgPSAgb0V2ZW50LmN1cnJlbnRUYXJnZXQucGFyZW50Tm9kZS5xdWVyeVNlbGVjdG9yKCcuaW5wdXQnKTtcclxuICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgb0lucHV0LmNsYXNzTGlzdC5hZGQoXCJib3JkZXJcIik7XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIH0sMjAwKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdmFyIG91dEZvY3VzID0gZnVuY3Rpb24gb3V0Rm9jdXMoZSkge1xyXG4gICAgICAgICAgICBpZiAoZS5jdXJyZW50VGFyZ2V0LnBhcmVudE5vZGUucXVlcnlTZWxlY3RvcignLmlucHV0JykudmFsdWUubGVuZ3RoID09PSAwICkge1xyXG4gICAgICAgICAgICAgICAgZS5jdXJyZW50VGFyZ2V0LnBhcmVudE5vZGUucXVlcnlTZWxlY3RvcignbGFiZWwnKS5jbGFzc0xpc3QucmVtb3ZlKFwiZm9jdXNcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZS5jdXJyZW50VGFyZ2V0LmNsYXNzTGlzdC5yZW1vdmUoXCJib3JkZXJcIik7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgQXJyYXkuZnJvbShpbnB1dCkuZm9yRWFjaChmdW5jdGlvbigkbGFiZWwpIHtcclxuICAgICAgICAgICAgJGxhYmVsLmFkZEV2ZW50TGlzdGVuZXIoXCJmb2N1c1wiLCBnZXRGb2N1cyk7XHJcbiAgICAgICAgICAgICRsYWJlbC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZ2V0Rm9jdXMpO1xyXG4gICAgICAgICAgICAkbGFiZWwuYWRkRXZlbnRMaXN0ZW5lcihcImJsdXJcIiwgb3V0Rm9jdXMpO1xyXG4gICAgICAgICAgICBpZigkbGFiZWwudmFsdWUgIT0gXCJcIil7XHJcbiAgICAgICAgICAgICAgICAkbGFiZWwucGFyZW50Tm9kZS5xdWVyeVNlbGVjdG9yKCdsYWJlbCcpLmNsYXNzTGlzdC5hZGQoXCJmb2N1c1wiKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgZkFuaW1JbnB1dCgpO1xyXG5cclxuLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xyXG4vLyBUYXhvbm9teSBGaWx0ZXIgYW5kIHBhZ2luYXRpb25cclxuLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xyXG5pZiAocGFnZVRpdGxlID09PSAnIMK7IFRvdXMgbGVzIGFydGlzdGVzIC0gU2FpbnQtTMOpb25cXCdBcnQnKXtcclxuICAgIGpRdWVyeShmdW5jdGlvbiAoJCkge1xyXG4gICAgICAgICQoJyNmaWx0ZXInKS5zdWJtaXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgZmlsdGVyID0gJCgnI2ZpbHRlcicpO1xyXG4gICAgICAgICAgICAkLmFqYXgoe1xyXG4gICAgICAgICAgICAgICAgdXJsOiBmaWx0ZXIuYXR0cignYWN0aW9uJyksXHJcbiAgICAgICAgICAgICAgICBkYXRhOiBmaWx0ZXIuc2VyaWFsaXplKCksIC8vIGZvcm0gZGF0YVxyXG4gICAgICAgICAgICAgICAgdHlwZTogZmlsdGVyLmF0dHIoJ21ldGhvZCcpLCAvLyBQT1NUXHJcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgICQoJy5hcnRpc3RfX2NvbnRhaW5lcicpLmh0bWwoZGF0YSk7IC8vIGluc2VydCBkYXRhXHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZGF0YSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuaWYgKHBhZ2VUaXRsZSA9PT0gJyDCuyBUb3VzIGxlcyDDqXbDqW5lbWVudHMgLSBTYWludC1Mw6lvblxcJ0FydCcpIHtcclxuICAgIGpRdWVyeShmdW5jdGlvbiAoJCkge1xyXG4gICAgICAgICQoJyNldmVudF9maWx0ZXInKS5zdWJtaXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgZmlsdGVyID0gJCgnI2V2ZW50X2ZpbHRlcicpO1xyXG4gICAgICAgICAgICAkLmFqYXgoe1xyXG4gICAgICAgICAgICAgICAgdXJsOiBmaWx0ZXIuYXR0cignYWN0aW9uJyksXHJcbiAgICAgICAgICAgICAgICBkYXRhOiBmaWx0ZXIuc2VyaWFsaXplKCksIC8vIGZvcm0gZGF0YVxyXG4gICAgICAgICAgICAgICAgdHlwZTogZmlsdGVyLmF0dHIoJ21ldGhvZCcpLCAvLyBQT1NUXHJcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgICQoJy5ldmVudF9fY29udGFpbmVyJykuaHRtbChkYXRhKTsgLy8gaW5zZXJ0IGRhdGFcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhkYXRhKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5pZiAocGFnZVRpdGxlID09PSAnIMK7IEFjdHVhbGl0w6lzIC0gU2FpbnQtTMOpb25cXCdBcnQnKSB7XHJcbiAgICBqUXVlcnkoZnVuY3Rpb24gKCQpIHtcclxuICAgICAgICAkKCcjbmV3c19maWx0ZXInKS5zdWJtaXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgZmlsdGVyID0gJCgnI25ld3NfZmlsdGVyJyk7XHJcbiAgICAgICAgICAgICQuYWpheCh7XHJcbiAgICAgICAgICAgICAgICB1cmw6IGZpbHRlci5hdHRyKCdhY3Rpb24nKSxcclxuICAgICAgICAgICAgICAgIGRhdGE6IGZpbHRlci5zZXJpYWxpemUoKSwgLy8gZm9ybSBkYXRhXHJcbiAgICAgICAgICAgICAgICB0eXBlOiBmaWx0ZXIuYXR0cignbWV0aG9kJyksIC8vIFBPU1RcclxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJCgnLmV2ZW50X19jb250YWluZXInKS5odG1sKGRhdGEpOyAvLyBpbnNlcnQgZGF0YVxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcbn1cclxuLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xyXG4vLyBNZW51IGFuaW1hdGlvbiBvbiBzY3JvbGxcclxuLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xyXG5cclxuaWYgKHdpbmRvdy5tYXRjaE1lZGlhKFwiKG1pbi13aWR0aDogOTgwcHgpXCIpLm1hdGNoZXMpIHtcclxuICAgIHZhciBmQWRkTG9nb01lbnUgPSBmdW5jdGlvbiBmQW5pbU1lbnUoKSB7XHJcbiAgICAgICAgY29uc3QgbWVudSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ3VsLm1lbnUnKTtcclxuICAgICAgICB2YXIgbGkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlcIik7XHJcbiAgICAgICAgY29uc3Qgc3BhbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcclxuICAgICAgICB2YXIgc2hlZXQgPSB3aW5kb3cuZG9jdW1lbnQuc3R5bGVTaGVldHNbMF07XHJcbiAgICAgICAgY29uc3QgbWlkbGUgPSBtZW51LmNoaWxkTm9kZXNbN107XHJcbiAgICAgICAgbGkuYXBwZW5kQ2hpbGQoc3Bhbik7XHJcbiAgICAgICAgc3Bhbi5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShcIlNhaW50TGVvbidBcnRcIikpO1xyXG4gICAgICAgIG1lbnUuaW5zZXJ0QmVmb3JlKGxpLCBtaWRsZS5uZXh0U2libGluZyk7XHJcbiAgICAgICAgbGkuY2xhc3NMaXN0LmFkZCgnbWVudV9faXRlbScpO1xyXG4gICAgICAgIGxpLmNsYXNzTGlzdC5hZGQoJ2xvZ28nKTtcclxuICAgICAgICBzcGFuLmNsYXNzTGlzdC5hZGQoJ2xvZ28nKTtcclxuICAgICAgICBtZW51LmNsYXNzTGlzdC5hZGQoJ29uU2Nyb2xsJyk7XHJcbiAgICAgICAgc2hlZXQuaW5zZXJ0UnVsZSgnLmhlYWRlciB7cGFkZGluZy10b3A6IDBweDt9Jywgc2hlZXQuY3NzUnVsZXMubGVuZ3RoKTtcclxuICAgIH1cclxuICAgIHZhciBmUmVtb3ZlTG9nb01lbnUgPSBmdW5jdGlvbiBmUmVtb3ZlTG9nb01lbnUoZSkge1xyXG4gICAgICAgICAgICB2YXIgc2hlZXQgPSB3aW5kb3cuZG9jdW1lbnQuc3R5bGVTaGVldHNbMF07XHJcbiAgICAgICAgICAgIGNvbnN0IG1lbnUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCd1bC5tZW51Jyk7XHJcbiAgICAgICAgICAgIGNvbnN0IGxvZ28gPSBtZW51LnF1ZXJ5U2VsZWN0b3IoJy5tZW51X19pdGVtLmxvZ28nKTtcclxuICAgICAgICAgICAgbWVudS5jbGFzc0xpc3QucmVtb3ZlKCdvblNjcm9sbCcpO1xyXG4gICAgICAgICAgICBtZW51LnJlbW92ZUNoaWxkKGxvZ28pO1xyXG4gICAgICAgICAgICBzaGVldC5pbnNlcnRSdWxlKCcuaGVhZGVyIHtwYWRkaW5nLXRvcDogMjRweDt9Jywgc2hlZXQuY3NzUnVsZXMubGVuZ3RoKTtcclxuICAgIH1cclxuICAgIHZhciBBbmltTWVudSA9IChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIGV4ZWN1dGVkID0gZmFsc2U7XHJcbiAgICAgICAgdmFyIGFjdGlvbkRvID0gZmFsc2U7XHJcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgIGlmICghZXhlY3V0ZWQpIHtcclxuICAgICAgICAgICAgICAgIGlmICh3aW5kb3cucGFnZVlPZmZzZXQgPiAxMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGV4ZWN1dGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBhY3Rpb25EbyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgZkFkZExvZ29NZW51KClcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZihhY3Rpb25EbyAmJiBleGVjdXRlZCl7XHJcbiAgICAgICAgICAgICAgICBpZiAod2luZG93LnBhZ2VZT2Zmc2V0IDwgMTApIHtcclxuICAgICAgICAgICAgICAgICAgICBhY3Rpb25EbyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIGV4ZWN1dGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgZlJlbW92ZUxvZ29NZW51KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgfSkoKTtcclxuXHJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgQW5pbU1lbnUpO1xyXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCBBbmltTWVudSk7XHJcbn1cclxuLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xyXG4vLyBOZXdzbGV0dGVyIHZhbGlkYXRpb24gZWZmZWN0XHJcbi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cclxuZnVuY3Rpb24gUGF0aExvYWRlcihlbCkge1xyXG4gICAgdGhpcy5lbCA9IGVsO1xyXG4gICAgdGhpcy5zdHJva2VMZW5ndGggPSBlbC5nZXRUb3RhbExlbmd0aCgpO1xyXG5cclxuICAgIC8vIHNldCBkYXNoIG9mZnNldCB0byAwXHJcbiAgICB0aGlzLmVsLnN0eWxlLnN0cm9rZURhc2hhcnJheSA9XHJcbiAgICAgICAgdGhpcy5lbC5zdHlsZS5zdHJva2VEYXNob2Zmc2V0ID0gdGhpcy5zdHJva2VMZW5ndGg7XHJcbn1cclxuXHJcblBhdGhMb2FkZXIucHJvdG90eXBlLl9kcmF3ID0gZnVuY3Rpb24gKHZhbCkge1xyXG4gICAgdGhpcy5lbC5zdHlsZS5zdHJva2VEYXNob2Zmc2V0ID0gdGhpcy5zdHJva2VMZW5ndGggKiAoMSAtIHZhbCk7XHJcbn1cclxuXHJcblBhdGhMb2FkZXIucHJvdG90eXBlLnNldFByb2dyZXNzID0gZnVuY3Rpb24gKHZhbCwgY2IpIHtcclxuICAgIHRoaXMuX2RyYXcodmFsKTtcclxuICAgIGlmIChjYiAmJiB0eXBlb2YgY2IgPT09ICdmdW5jdGlvbicpIGNiKCk7XHJcbn1cclxuXHJcblBhdGhMb2FkZXIucHJvdG90eXBlLnNldFByb2dyZXNzRm4gPSBmdW5jdGlvbiAoZm4pIHtcclxuICAgIGlmICh0eXBlb2YgZm4gPT09ICdmdW5jdGlvbicpIGZuKHRoaXMpO1xyXG59XHJcblxyXG52YXIgYm9keSA9IGRvY3VtZW50LmJvZHksXHJcbiAgICBzdmcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdzdmcgcGF0aCcpO1xyXG5cclxuaWYgKHN2ZyAhPT0gbnVsbCkge1xyXG4gICAgc3ZnID0gbmV3IFBhdGhMb2FkZXIoc3ZnKTtcclxuXHJcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xyXG4gICAgICAgIHN2Zy5zZXRQcm9ncmVzcygxKTtcclxuICAgIH0sIDIwMCk7XHJcbn0iXX0=
